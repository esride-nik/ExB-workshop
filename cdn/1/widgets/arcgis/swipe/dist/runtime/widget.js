System.register(["jimu-core","jimu-arcgis","jimu-ui","esri/widgets/Swipe","jimu-ui/basic/list-tree","jimu-core/dnd","esri/widgets/Legend"],(function(e,t){var l={},n={},i={},r={},a={},o={},s={};return{setters:[function(e){l.AppMode=e.AppMode,l.DataSourceManager=e.DataSourceManager,l.Immutable=e.Immutable,l.React=e.React,l.ReactRedux=e.ReactRedux,l.classNames=e.classNames,l.css=e.css,l.getAppStore=e.getAppStore,l.hooks=e.hooks,l.jsx=e.jsx,l.polished=e.polished},function(e){n.DataSourceTypes=e.DataSourceTypes,n.JimuMapViewComponent=e.JimuMapViewComponent,n.MapViewManager=e.MapViewManager},function(e){i.Alert=e.Alert,i.CollapsablePanel=e.CollapsablePanel,i.DistanceUnits=e.DistanceUnits,i.Icon=e.Icon,i.Switch=e.Switch,i.WidgetPlaceholder=e.WidgetPlaceholder,i.defaultMessages=e.defaultMessages},function(e){r.default=e.default},function(e){a.List=e.List},function(e){o.interact=e.interact},function(e){s.default=e.default}],execute:function(){e((()=>{var e={48623:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20"><path fill="#000" d="M9 0v20h1V0zM0 3.5A1.5 1.5 0 0 1 1.5 2h5v1h-5a.5.5 0 0 0-.5.5v13a.5.5 0 0 0 .5.5h5v1h-5A1.5 1.5 0 0 1 0 16.5zM20 16.5a1.5 1.5 0 0 1-1.5 1.5h-6v-1h6a.5.5 0 0 0 .5-.5v-13a.5.5 0 0 0-.5-.5h-6V2h6A1.5 1.5 0 0 1 20 3.5z"></path><path fill="#000" d="m6.354 6.646.707.708L4.414 10l2.647 2.646-.707.708L3 10zM12 12.646l.707.707L16.061 10l-3.354-3.354-.707.708L14.646 10z"></path></svg>'},73982:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M7.5 1.5a.5.5 0 0 1 1 0v2.8a.5.5 0 0 1-1 0zm6.028.874a.5.5 0 0 1 .062.705l-1.414 1.685a.5.5 0 1 1-.766-.643l1.414-1.685a.5.5 0 0 1 .704-.062m-10.352.062a.5.5 0 1 0-.766.643l1.414 1.685a.5.5 0 0 0 .766-.643zM6.244 10.6zH5.43zM.961 9.8h4.88c.211 0 .359.19.359.4a1.8 1.8 0 0 0 3.555.4h.814a2.6 2.6 0 0 1-5.139 0H.8v3.6h14.4v-3.6H9.755c.03-.129.045-.263.045-.4 0-.21.148-.4.358-.4h4.881l-2.267-3.4H3.228zm11.81-4.2a.8.8 0 0 1 .666.356l2.429 3.642a.8.8 0 0 1 .134.444V14.2a.8.8 0 0 1-.8.8H.8a.8.8 0 0 1-.8-.8v-4.158a.8.8 0 0 1 .134-.444l2.429-3.642a.8.8 0 0 1 .665-.356z" clip-rule="evenodd"></path></svg>'},79775:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M3.154 3.154a.527.527 0 0 1 .746 0l1.317 1.317A8.618 8.618 0 0 1 8 4c2.667 0 5.667 1.333 7 4-.696 1.393-1.847 2.422-3.168 3.087l1.014 1.013a.527.527 0 1 1-.746.746l-1.317-1.317A8.617 8.617 0 0 1 8 12c-2.667 0-5.667-1.333-7-4 .696-1.393 1.847-2.422 3.168-3.087L3.154 3.9a.527.527 0 0 1 0-.746m1.698 2.443C3.726 6.087 2.782 6.882 2 8c1.422 2.033 3.382 3 6 3a8.66 8.66 0 0 0 2.03-.225l-.675-.674A2.5 2.5 0 0 1 5.9 6.644zm6.296 4.805C12.275 9.913 13.218 9.119 14 8c-1.422-2.033-3.382-3-6-3-.726 0-1.402.074-2.03.225l.675.674a2.5 2.5 0 0 1 3.457 3.456zM6.5 8c0-.221.048-.431.134-.62l1.987 1.986A1.5 1.5 0 0 1 6.5 8m.88-1.366 1.986 1.987a1.5 1.5 0 0 0-1.987-1.987" clip-rule="evenodd"></path></svg>'},15467:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M8 12c-2.667 0-5.667-1.333-7-4 1.333-2.667 4.333-4 7-4s5.667 1.333 7 4c-1.333 2.667-4.333 4-7 4m0-7c-2.618 0-4.578.967-6 3 1.422 2.033 3.382 3 6 3s4.578-.967 6-3c-1.422-2.033-3.382-3-6-3m0 5.5a2.5 2.5 0 1 1 0-5 2.5 2.5 0 0 1 0 5m0-1a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3" clip-rule="evenodd"></path></svg>'},24923:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M14 8A6 6 0 1 1 2 8a6 6 0 0 1 12 0m1 0A7 7 0 1 1 1 8a7 7 0 0 1 14 0M5.354 6.646l-.708.708L8 10.707l3.354-3.353-.707-.708L8 9.293z" clip-rule="evenodd"></path></svg>'},65205:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" d="m10.646 10.06.707-.707L8 6 4.646 9.353l.708.707L8 7.414z"></path><path fill="#000" fill-rule="evenodd" d="M15 8A7 7 0 1 1 1 8a7 7 0 0 1 14 0m-1 0A6 6 0 1 1 2 8a6 6 0 0 1 12 0" clip-rule="evenodd"></path></svg>'},79964:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M8 2.125 14.334 14H1.667zm-.882-.47a1 1 0 0 1 1.765 0l6.333 11.874A1 1 0 0 1 14.334 15H1.667a1 1 0 0 1-.882-1.47zM8 4.874a.905.905 0 0 0-.9.995l.35 3.507a.552.552 0 0 0 1.1 0L8.9 5.87a.905.905 0 0 0-.9-.995m1 7a1 1 0 1 1-2 0 1 1 0 0 1 2 0" clip-rule="evenodd"></path></svg>'},46771:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill="#000" fill-rule="nonzero" d="m6 11.943 4 1.711V4.057L6 2.346zm-1 .17V2.494l-4 1.48v9.619zm6 1.393 4-1.48V2.407l-4 1.48zM0 15V3.307L5.75 1.18l4.528 1.937L16 1v11.693l-5.75 2.127-4.528-1.937z"></path></svg>'},91915:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill="#000" fill-rule="nonzero" d="M7.5 4V1.39C6.402 2.12 5.565 2.99 4.985 4zm0 3.5V5H4.512a8.13 8.13 0 0 0-.5 2.5zm0 3.5V8.5H4.012a8.13 8.13 0 0 0 .5 2.5zm0 3.61V12H4.985c.58 1.01 1.417 1.88 2.515 2.61m2.543.087A7.014 7.014 0 0 0 13.745 12h-1.6a8.278 8.278 0 0 1-2.102 2.697M11.015 12H8.5v2.61c1.098-.73 1.935-1.6 2.515-2.61m1.974-3.5a9.328 9.328 0 0 1-.441 2.5h1.778c.365-.767.594-1.61.656-2.5zm-1.001 0H8.5V11h2.988a8.13 8.13 0 0 0 .5-2.5m.56-3.5c.254.775.401 1.609.441 2.5h1.993a6.957 6.957 0 0 0-.656-2.5zm-1.06 0H8.5v2.5h3.488a8.13 8.13 0 0 0-.5-2.5m-1.445-3.697c.91.78 1.611 1.68 2.102 2.697h1.6a7.014 7.014 0 0 0-3.702-2.697M8.5 4h2.515c-.58-1.01-1.417-1.88-2.515-2.61zm-.527 12a8 8 0 1 1 .055-16 8 8 0 0 1-.055 16M5.957 1.302A7.014 7.014 0 0 0 2.255 4h1.6a8.278 8.278 0 0 1 2.102-2.697M3.011 7.5c.04-.891.187-1.725.441-2.5H1.674a6.957 6.957 0 0 0-.656 2.5zm.441 3.5a9.328 9.328 0 0 1-.441-2.5H1.018c.062.89.291 1.733.656 2.5zm2.505 3.697A8.278 8.278 0 0 1 3.855 12h-1.6a7.014 7.014 0 0 0 3.702 2.697"></path></svg>'},9600:e=>{"use strict";e.exports=s},97629:e=>{"use strict";e.exports=r},26826:e=>{"use strict";e.exports=n},48891:e=>{"use strict";e.exports=l},54020:e=>{"use strict";e.exports=o},30726:e=>{"use strict";e.exports=i},59587:e=>{"use strict";e.exports=a}},t={};function c(l){var n=t[l];if(void 0!==n)return n.exports;var i=t[l]={exports:{}};return e[l](i,i.exports,c),i.exports}c.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return c.d(t,{a:t}),t},c.d=(e,t)=>{for(var l in t)c.o(t,l)&&!c.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})},c.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),c.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.p="";var u={};return c.p=window.jimuConfig.baseUrl,(()=>{"use strict";c.r(u),c.d(u,{__set_webpack_public_path__:()=>ge,default:()=>he});var e=c(48891),t=c(26826),l=c(30726);const n={_widgetLabel:"Swipe",leadingLayers:"Leading layers",trailingLayers:"Trailing layers",webSceneNotSupported:"Web scenes are not supported.",noConfiguredLayerText:"There is currently no configured layer.",noValidLayerText:"There is no valid layer.",mapOccupiedMsg:"Another active Swipe that connects to the targeted Map has been toggled off.",runtimeLayers:"Runtime layers"};var i,r,a=c(48623),o=c.n(a);!function(e){e.SimpleHorizontal="SIMPLE_HORIZONTAL",e.SimpleVertical="SIMPLE_VERTICAL",e.AdvancedHorizontal="ADVANCED_HORIZONTAL",e.AdvancedVertical="ADVANCED_VERTICAL"}(i||(i={})),function(e){e.SwipeBetweenLayers="SWIPE_BETWEEN_LAYERS_OF_ONE_MAP",e.SwipeBetweenMaps="SWIPE_BETWEEN_WEBMAPS_OR_WEBSCENES"}(r||(r={}));var s=c(97629);const{useEffect:d,useRef:p}=e.React;function v(t){var l,n;const{widgetId:r,activeMapView:a,leadingLayersId:o,trailingLayersId:c,swipeStyle:u,sliderPosition:v,dividerColor:m,handlerColor:y,isDesignMode:h}=t,g=null===(n=null===(l=(0,e.getAppStore)().getState())||void 0===l?void 0:l.appContext)||void 0===n?void 0:n.isRTL,w=null==a?void 0:a.mapWidgetId,f=p(null),b=u===i.SimpleHorizontal&&g,x=p(b?100-v.distance:v.distance),L=p(document.querySelector(`div[data-widgetid=${w}]`)),S=p(!1);d((()=>{x.current=b?100-v.distance:v.distance}),[b,v]),d((()=>{var e;const t=null===(e=L.current)||void 0===e?void 0:e.querySelector(".esri-swipe");t&&(t.style.pointerEvents=h?null:"none")}),[h,L]);const M=(e,t)=>{return l=this,n=void 0,r=function*(){return yield e.whenJimuLayerViewLoaded(t)},new((i=void 0)||(i=Promise))((function(e,t){function a(e){try{s(r.next(e))}catch(e){t(e)}}function o(e){try{s(r.throw(e))}catch(e){t(e)}}function s(t){var l;t.done?e(t.value):(l=t.value,l instanceof i?l:new i((function(e){e(l)}))).then(a,o)}s((r=r.apply(l,n||[])).next())}));var l,n,i,r};return d((()=>()=>{S.current=!0}),[]),d((()=>{function e(){var e;f.current&&(f.current.position=0,f.current.leadingLayers.removeAll(),f.current.trailingLayers.removeAll(),null===(e=null==a?void 0:a.view)||void 0===e||e.ui.remove(f.current))}return(null==a?void 0:a.view)&&function(){var t,l;const n=null===(t=null==o?void 0:o.asMutable())||void 0===t?void 0:t.map((e=>M(a,e))),d=null===(l=null==c?void 0:c.asMutable())||void 0===l?void 0:l.map((e=>M(a,e))),p=u===i.SimpleVertical?"vertical":"horizontal";n&&d&&Promise.all(n.concat(d)).then((t=>{if(S.current)return;const l=null==o?void 0:o.asMutable().map((e=>t.filter((t=>t.id===e))[0].layer)),n=null==c?void 0:c.asMutable().map((e=>t.filter((t=>t.id===e))[0].layer));e(),f.current=new s.default({id:r,leadingLayers:l,trailingLayers:n,view:null==a?void 0:a.view,direction:p,position:x.current}),null==a||a.view.ui.add(f.current),f.current.watch("position",(()=>{f.current.position&&(x.current=f.current.position)})),f.current.when((()=>{if(S.current)return void e();L.current.querySelector(".esri-swipe__divider").style.backgroundColor=m;const t=L.current.querySelector(".esri-swipe__handle");t&&(t.style.backgroundColor=y)}))}))}(),()=>{e()}}),[r,a,v,o,c,u,m,y]),null}var m=c(59587),y=c(15467),h=c.n(y),g=c(79775),w=c.n(g);const f=t=>{const{layerList:n,onChange:i,isAllowDeactivateLayers:r,toggleLayerVisibility:a,highlightIndex:o}=t,s=e.hooks.useTranslation(l.defaultMessages),c=e.React.useCallback((e=>[{label:s("visibility"),iconProps:{icon:(null==e?void 0:e.visible)?h():w(),size:16},action:()=>{var l;null===(l=null==t?void 0:t.onToggleLayerVisibility)||void 0===l||l.call(t,e.layerId)}}]),[t,s]),[u,d]=e.React.useState((()=>null==n?void 0:n.map((e=>({itemKey:e.layerId,itemStateTitle:e.title,itemStateChecked:!!r&&e.selected,isCheckboxDisabled:!e.visible,itemStateCommands:a?c(e):[]})))));return e.React.useEffect((()=>{const e=null==n?void 0:n.map((e=>({itemKey:e.layerId,itemStateTitle:e.title,itemStateChecked:!!r&&e.selected,isCheckboxDisabled:!e.visible,itemStateCommands:a?c(e):[]})));d(e)}),[c,r,n,a]),(0,e.jsx)("div",{className:"layer-list",css:b(o)},(0,e.jsx)(m.List,{size:"default",className:"w-100",itemsJson:u,isMultiSelection:r,dndEnabled:!1,disableDoubleClickTitle:!0,onUpdateItem:(e,t)=>{if(!r)return;const[l,n]=e.itemJsons;d([...n]),i(l.itemKey)}}))};function b(t){return e.css`
    .jimu-tree-item_template-card .jimu-tree-item__body:hover {
      background-color: transparent !important;
    }
    .jimu-tree-main {
      .jimu-tree-item:nth-of-type(${t}) {
        .jimu-tree-item__body {
          border-left: .125rem solid var(--primary) !important;
        }
      }
    }
  `}var x=c(73982),L=c.n(x);const S=t=>{const l=window.SVG,{className:n}=t,i=function(e,t){var l={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(l[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(l[n[i]]=e[n[i]])}return l}(t,["className"]),r=(0,e.classNames)("jimu-icon jimu-icon-component",n);return l?e.React.createElement(l,Object.assign({className:r,src:L()},i)):e.React.createElement("svg",Object.assign({className:r},i))},M=t=>{const{swipeLayerMode:l}=t,i=e.hooks.useTranslation(n);return(0,e.jsx)("div",{css:I,className:"no-layer-placeholder w-100"},(0,e.jsx)("div",{className:"no-layer-placeholder-icon"},(0,e.jsx)(S,{size:32,color:"var(--dark-500)"})),(0,e.jsx)("div",{className:"no-layer-placeholder-text"},(0,e.jsx)("span",null,i(l?"noConfiguredLayerText":"noValidLayerText"))))},I=e.css`
.no-layer-placeholder-text, .no-layer-placeholder-icon{
  display: table;
  margin: 0 auto;
}
.no-layer-placeholder-text {
  color: var(--dark-500);
  font-size: 13px;
  margin-top: 16px;
  text-align: center;
}
.no-layer-placeholder-icon {
  color: var(--dark-800);
}
`;var V=c(65205),j=c.n(V),C=c(24923),E=c.n(C),A=function(e,t,l,n){return new(l||(l=Promise))((function(i,r){function a(e){try{s(n.next(e))}catch(e){r(e)}}function o(e){try{s(n.throw(e))}catch(e){r(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof l?t:new l((function(e){e(t)}))).then(a,o)}s((n=n.apply(e,t||[])).next())}))};const{useState:O,useEffect:P,useRef:k}=e.React;function R(t){var i,r,a,o;const{swipeMapViewList:s,activeMapView:c,isAllowDeactivateLayers:u,toggleLayerVisibility:d,handlePanelSelectedLeadingLayers:p,handlePanelSelectedTrailingLayers:v,runtimeAddedLayers:m,handleRuntimePanelSelectedLeadingLayers:y,handleRuntimePanelSelectedTrailingLayers:h}=t,[g,w]=O(!1),[b,x]=O(!1),[L,S]=O(!1),[I,V]=O(!1),C=e.React.useRef([]),R=e.React.useRef([]),D=e.React.useRef([]),z=e.React.useRef([]),T=e.hooks.useTranslation(n),[$,q]=O(null),[_,H]=O(null),[J,F]=O([]),[B,W]=O([]),U=k($),G=k(_),Y=k(J),X=k(B),[K,Z]=O((null===(i=null==s?void 0:s[null==c?void 0:c.id])||void 0===i?void 0:i.leadingLayersId)||(0,e.Immutable)([])),[Q,ee]=O((null===(r=null==s?void 0:s[null==c?void 0:c.id])||void 0===r?void 0:r.trailingLayersId)||(0,e.Immutable)([])),[te,le]=O((0,e.Immutable)([])),[ne,ie]=O((0,e.Immutable)([])),re=(e,t)=>A(this,void 0,void 0,(function*(){return yield e.whenJimuLayerViewLoaded(t)})),ae=e.hooks.useEventCallback(((t,l,n,i)=>{var r,a,o;const d=t?"leadingLayersId":"trailingLayersId",p=null===(o=null===(a=null===(r=null==s?void 0:s[null==c?void 0:c.id])||void 0===r?void 0:r[d])||void 0===a?void 0:a.asMutable())||void 0===o?void 0:o.map((e=>re(c,e)));p&&Promise.all(p).then((t=>{const r=t.map((e=>({layerId:e.id,title:e.layer.title,selected:!0,visible:e.layer.visible,allowOperation:u})));l(r),n.current=r;const a=[];null==r||r.forEach((e=>{e.selected&&a.push(e.layerId)})),i((0,e.Immutable)(a))}))}));P((()=>{ae(!0,q,U,p),ae(!1,H,G,v)}),[s,c,u,p,v,ae]),P((()=>{const t=null==m?void 0:m.asMutable({deep:!0}).map((e=>{const t=c.jimuLayerViews[e];return{layerId:e,title:t.layer.title,selected:!1,visible:t.layer.visible,allowOperation:!0}}));F(t),Y.current=t,W(t),X.current=t;const l=[];null==t||t.forEach((e=>{e.selected&&l.push(e.layerId)})),y((0,e.Immutable)(l)),h((0,e.Immutable)(l))}),[c,y,h,m]);const oe=e.hooks.useEventCallback(((t,l,n,i)=>{var r,a,o;const u=t?"leadingLayersId":"trailingLayersId",d=null===(o=null===(a=null===(r=null==s?void 0:s[null==c?void 0:c.id])||void 0===r?void 0:r[u])||void 0===a?void 0:a.asMutable())||void 0===o?void 0:o.map((e=>re(c,e)));d&&Promise.all(d).then((t=>{t.forEach((t=>{const r=[];r.push(t.layer.watch("visible",(()=>{const i=t.layer.visible,r=JSON.parse(JSON.stringify(l.current));r.forEach((e=>{e.layerId===t.id&&(e.visible=i)})),n((0,e.Immutable)(r)),l.current=(0,e.Immutable)(r)}))),i.current=r}))}))}));P((()=>{const e=C.current,t=R.current;return oe(!0,U,q,C),oe(!1,G,H,R),()=>{e.forEach((e=>{e.remove()})),t.forEach((e=>{e.remove()}))}}),[s,c,oe]);const se=e.hooks.useEventCallback(((t,l,n,i)=>{(t?J:B).forEach((t=>{const r=c.jimuLayerViews[t.layerId],a=[];a.push(r.layer.watch("visible",(()=>{const t=r.layer.visible,i=JSON.parse(JSON.stringify(l.current));i.forEach((e=>{e.layerId===r.id&&(e.visible=t)})),n((0,e.Immutable)(i)),l.current=(0,e.Immutable)(i)}))),i.current=a}))}));P((()=>{const e=D.current,t=z.current;return se(!0,Y,F,D),se(!1,X,W,z),()=>{e.forEach((e=>{e.remove()})),t.forEach((e=>{e.remove()}))}}),[c,J,B,se]),P((()=>{p(K)}),[p,K]),P((()=>{v(Q)}),[v,Q]),P((()=>{y(te)}),[y,te]),P((()=>{h(ne)}),[h,ne]);const ce=()=>{w(!g)},ue=()=>{x(!b)},de=()=>{S(!L)},pe=()=>{V(!I)},ve=(t,l,n,i,r)=>{const a=JSON.parse(JSON.stringify(t));a.forEach((e=>{e.layerId===r&&(e.selected=!e.selected)})),l((0,e.Immutable)(a)),i.current=a;const o=[];a.forEach((e=>{e.selected&&o.push(e.layerId)})),n((0,e.Immutable)(o))},me=e.React.useCallback((e=>A(this,void 0,void 0,(function*(){const t=yield re(c,e);t.layer.visible=!t.layer.visible}))),[c]);return(0,e.jsx)("div",{css:N},(0,e.jsx)(l.CollapsablePanel,{className:"swipe-collapse",label:T("leadingLayers"),isOpen:g,"aria-label":T("leadingLayers"),onRequestOpen:ce,onRequestClose:ce},(null===(a=null==s?void 0:s[null==c?void 0:c.id])||void 0===a?void 0:a.leadingLayersId.length)>0?(0,e.jsx)(f,{layerList:$,onChange:e=>{ve($,q,Z,U,e)},isAllowDeactivateLayers:u,toggleLayerVisibility:d,onToggleLayerVisibility:me}):(0,e.jsx)(M,{swipeLayerMode:!0}),(null==J?void 0:J.length)>0&&(0,e.jsx)(l.CollapsablePanel,{className:"swipe-collapse runtime-layer-collapse",label:T("runtimeLayers"),isOpen:b,"aria-label":T("runtimeLayers"),onRequestOpen:ue,onRequestClose:ue,rightIcon:E(),rightActiveIcon:j()},(0,e.jsx)(f,{layerList:J,isAllowDeactivateLayers:!0,onChange:e=>{ve(J,F,le,Y,e)},toggleLayerVisibility:!0,onToggleLayerVisibility:me}))),(0,e.jsx)(l.CollapsablePanel,{className:"swipe-collapse",label:T("trailingLayers"),isOpen:I,"aria-label":T("trailingLayers"),onRequestOpen:pe,onRequestClose:pe},(null===(o=null==s?void 0:s[null==c?void 0:c.id])||void 0===o?void 0:o.trailingLayersId.length)>0?(0,e.jsx)(f,{layerList:_,onChange:e=>{ve(_,H,ee,G,e)},isAllowDeactivateLayers:u,toggleLayerVisibility:d,onToggleLayerVisibility:me}):(0,e.jsx)(M,{swipeLayerMode:!0}),(null==B?void 0:B.length)>0&&(0,e.jsx)(l.CollapsablePanel,{className:"swipe-collapse runtime-layer-collapse",label:T("runtimeLayers"),isOpen:L,"aria-label":T("runtimeLayers"),onRequestOpen:de,onRequestClose:de,rightIcon:E(),rightActiveIcon:j()},(0,e.jsx)(f,{layerList:B,isAllowDeactivateLayers:!0,onChange:e=>{ve(B,W,ie,X,e)},toggleLayerVisibility:!0,onToggleLayerVisibility:me}))))}const N=e.css`
.swipe-collapse {
  margin-top: 16px;
  .title {
    font-weight: 600;
  }
}
.runtime-layer-collapse {
  .title {
    font-size: 13px;
    font-weight: 500;
  }
}
.layer-list {
  margin-top: 12px;
  margin-bottom: 16px;
}
.no-layer-placeholder {
  margin-top: 16px;
  margin-bottom: 16px;
}
`;var D=c(54020);const z=(e,t)=>{if((null==e?void 0:e.length)!==(null==t?void 0:t.length))return!1;const l=[...e].sort(),n=[...t].sort();for(let e=0;e<l.length;e++)if(l[e]!==n[e])return!1;return!0},T=l=>{var n;return(null===(n=e.DataSourceManager.getInstance().getDataSource(l))||void 0===n?void 0:n.type)===t.DataSourceTypes.WebMap};const{useRef:$,useEffect:q,useState:_}=e.React,H="\n  position: absolute;\n  border: 1px solid rgba(110,110,110,.5);\n",J="\n  width: 32px;\n  height: 32px;\n  border: 1px solid rgba(110,110,110,.5);\n  borderRadius: 2px;\n  position: absolute;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n";function F(t){var l,n,r,a,o,s;const{activeMapView:c,inactiveMapView:u,jimuMapViewGroup:d,widgetId:p,swipeMode:v,swipeStyle:m,sliderPosition:y,mapUseDataSourcesOrderList:h,mapUseDataSources:g,dividerColor:w,handlerColor:f,isDesignMode:b}=t,x=null===(n=null===(l=(0,e.getAppStore)().getState())||void 0===l?void 0:l.appContext)||void 0===n?void 0:n.isRTL,L=c.mapWidgetId,S=$(null===(r=c.view)||void 0===r?void 0:r.width),M=$(null===(a=c.view)||void 0===a?void 0:a.height),I=`jimu-widget-swipe-${p}-handle-container`,V=z(g,h)?h:g,j=$((null==V?void 0:V[0])===(null==c?void 0:c.dataSourceId)),C=$(!1),E=$(!1),A=$(!1),O=$(!1),P={x:0,y:0},k=$(document.querySelector(`div[data-widgetid=${L}] .multi-map-container`)),R=$(null===(o=k.current)||void 0===o?void 0:o.querySelector(".multisourcemap-item-appear-noanimate")),N=$(null===(s=k.current)||void 0===s?void 0:s.querySelector(".multisourcemap-item-disappear-noanimate"));if(m===i.SimpleVertical)P.y=M.current*y.distance*.01;else{const e=x?100-y.distance:y.distance;P.x=S.current*e*.01}const[T,F]=_(P),B=$(),W=$(),U=$(c.isClickOpenPopupEnabled()),G=$(c.isClickHighlightEnabled()),Y=$(u.isClickOpenPopupEnabled()),X=$(u.isClickHighlightEnabled());q((()=>{c.isCached()||(k.current.style.pointerEvents=b?"none":null)}),[b]),q((()=>()=>{k.current&&(k.current.style.pointerEvents=null)}),[]),e.hooks.useUpdateEffect((()=>{j.current=!j.current}),[c]),q((()=>{if(!c.isCached())return R.current=k.current.querySelector(".multisourcemap-item-appear-noanimate"),N.current=k.current.querySelector(".multisourcemap-item-disappear-noanimate"),E.current=!1,C.current=!1,K(),Z(),Q(),ee(),te(),ie(),d.hideMapTools(),()=>{le()}}),[c]),q((()=>{const e=c.view.on("resize",(e=>{S.current=e.width,M.current=e.height,le(),Q(),ee(),te(),ie(),d.hideMapTools()}));return()=>{e.remove()}}),[c]),q((()=>{const e=()=>{C.current=!1},t=()=>{k.current=document.querySelector(`div[data-widgetid=${L}] .multi-map-container`),R.current=k.current.querySelector(".multisourcemap-item-appear-noanimate"),N.current=k.current.querySelector(".multisourcemap-item-disappear-noanimate"),Q(),ee(),te(),ie(),d.hideMapTools(),Z()};return c.addCacheListener(e),c.addRestoreListener(t),()=>{c.removeCacheListener(e),c.removeRestoreListener(t),le()}}),[c]),q((()=>{c.isCached()||(W.current.style.backgroundColor=w,W.current.querySelector(".handler").style.backgroundColor=f)}),[c,w,f]),q((()=>{F(P)}),[v]),e.hooks.useUpdateEffect((()=>{c.isCached()||(j.current=!j.current,ee(T))}),[V]),q((()=>{if(c.isCached())return;const e={x:0,y:0},t=document.querySelector(`.jimu-widget-swipe-${p}-handle-container`);if(m===i.SimpleVertical)e.y=M.current*y.distance*.01,t.style.transform=`translateY(${e.y}px)`;else{const l=x?100-y.distance:y.distance;e.x=S.current*l*.01;const n=x?-(S.current-e.x):e.x;t.style.transform=`translateX(${n}px)`}ee(e),F(e),d.hideMapTools()}),[y,p,m,x]);const K=()=>{c.view.popupEnabled&&c.view.closePopup(),u.view.popupEnabled&&u.view.closePopup()},Z=()=>{c.disableClickOpenPopup(),c.disableClickHighlight(),u.disableClickOpenPopup(),u.disableClickHighlight()},Q=()=>{(N.current||R.current)&&N.current&&(N.current.style.opacity="1")},ee=e=>{const t=e||T;let l=null,n=null;m===i.SimpleVertical?(l=`inset(0px 0px ${M.current-t.y}px 0px)`,n=`inset(${t.y}px 0px 0px 0px)`):m===i.SimpleHorizontal&&(l=`inset(0px ${S.current-t.x}px 0px 0px)`,n=`inset(0px 0px 0px ${t.x}px)`);const r=j.current?R.current:N.current,a=j.current?N.current:R.current;r&&(r.style.clipPath=l),a&&(a.style.clipPath=n)},te=()=>{var e;if(document.getElementsByClassName(I)[0])return!1;(()=>{if(m===i.SimpleVertical){W.current=document.createElement("div"),W.current.className=I,W.current.setAttribute("style",H),W.current.style.transform=`translateY(${T.y}px)`,W.current.style.width=`${S.current}px`,W.current.style.height="4px",W.current.style.backgroundColor=w,W.current.style.zIndex="1";const e=document.createElement("div");e.className="handler esri-swipe__handle-icon esri-icon-drag-horizontal",e.setAttribute("style",J),e.style.top="-13px",e.style.backgroundColor=f,e.style.left="50%",e.style.marginLeft="-16px",e.style.cursor="row-resize",W.current.appendChild(e)}else{W.current=document.createElement("div"),W.current.className=I,W.current.setAttribute("style",H);const e=x?-(S.current-T.x):T.x;W.current.style.transform=`translateX(${e}px)`,W.current.style.height=`${M.current}px`,W.current.style.width="4px",W.current.style.backgroundColor=w,W.current.style.zIndex="1";const t=document.createElement("div");t.className="handler esri-swipe__handle-icon esri-icon-drag-vertical",t.setAttribute("style",J),t.style.left="-13px",t.style.backgroundColor=f,t.style.top="50%",t.style.marginTop="-16px",t.style.cursor="col-resize",W.current.appendChild(t)}})(),null===(e=k.current)||void 0===e||e.appendChild(W.current),B.current=(e=>{var t,l;return e&&m===i.SimpleVertical?null===(t=(0,D.interact)(e))||void 0===t?void 0:t.draggable({startAxis:"y",lockAxis:"y",listeners:{move(e){T.y+=e.dy,T.y=T.y>M.current?M.current:T.y>0?T.y:0,F(T),ee(T),e.target.style.transform=`translateY(${T.y}px)`}}}):e&&m===i.SimpleHorizontal?null===(l=(0,D.interact)(e))||void 0===l?void 0:l.draggable({startAxis:"x",lockAxis:"x",listeners:{move(e){T.x+=e.dx,T.x=T.x>S.current?S.current:T.x>0?T.x:0,F(T),ee(T);const t=x?-(S.current-T.x):T.x;e.target.style.transform=`translateX(${t}px)`}}}):void 0})(W.current)},le=()=>{C.current=!1,document.getElementsByClassName(I)[0]&&k.current&&W.current&&k.current.removeChild(W.current),B.current&&B.current.unset(),d.showMapTools(),(N.current||R.current)&&(N.current&&(N.current.style.opacity=null),R.current&&(R.current.style.clipPath=null),N.current&&(N.current.style.clipPath=null),R.current&&(R.current.style.opacity=null)),k.current.removeEventListener("mousedown",re),k.current.removeEventListener("click",ae),k.current.removeEventListener("wheel",ae),c.isDestroyed()||(U.current?c.enableClickOpenPopup():c.disableClickOpenPopup(),G.current?c.enableClickHighlight():c.disableClickHighlight()),u.isDestroyed()||(Y.current?u.enableClickOpenPopup():u.disableClickOpenPopup(),X.current?u.enableClickHighlight():u.disableClickHighlight())},ne=()=>{return e=this,t=void 0,n=function*(){yield d.switchMap(!0),O.current=!1},new((l=void 0)||(l=Promise))((function(i,r){function a(e){try{s(n.next(e))}catch(e){r(e)}}function o(e){try{s(n.throw(e))}catch(e){r(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof l?t:new l((function(e){e(t)}))).then(a,o)}s((n=n.apply(e,t||[])).next())}));var e,t,l,n},ie=()=>{N.current&&!C.current&&(k.current.addEventListener("mousedown",re),k.current.addEventListener("click",ae),k.current.addEventListener("wheel",ae),C.current=!0)},re=e=>{e.target.classList.contains("multi-map-container")?A.current=!0:A.current=!1},ae=e=>{if(e.target.classList.contains("multi-map-container")&&A.current){if(E.current||O.current)return;E.current=!0,O.current=!0,ne()}};return null}function B(n){const{mapUseDataSourcesOrderList:i,mapUseDataSources:r}=n,a=z(r,i)?i:r,o=t=>{if(!t)return"";const l=e.DataSourceManager.getInstance().getDataSource(t);return(null==l?void 0:l.getLabel())||(null==l?void 0:l.getDataSourceJson().sourceLabel)||t},s=l=>{var n;return c((null===(n=e.DataSourceManager.getInstance().getDataSource(l))||void 0===n?void 0:n.type)===t.DataSourceTypes.WebMap?46771:91915)};return(0,e.jsx)("div",{css:W},(0,e.jsx)("div",{className:"swipe-maps-panel"},(0,e.jsx)("div",{className:"swipe-maps-list d-flex justify-content-start"},(0,e.jsx)("div",{className:"d-flex flex-shrink-0 justify-content-center align-items-center swipe-maps-thumbnail"},(0,e.jsx)(l.Icon,{size:"12",color:"#FFFFFF",icon:s(a[0])})),(0,e.jsx)("div",{title:o(a[0]),className:"swipe-maps-label text-truncate"},o(a[0]))),(0,e.jsx)("div",{className:"swipe-maps-list d-flex justify-content-start"},(0,e.jsx)("div",{className:"d-flex flex-shrink-0 justify-content-center align-items-center swipe-maps-thumbnail"},(0,e.jsx)(l.Icon,{size:"12",color:"#FFFFFF",icon:s(a[1])})),(0,e.jsx)("div",{title:o(a[1]),className:"swipe-maps-label text-truncate"},o(a[1])))))}const W=e.css`
.swipe-maps-panel {
  margin-top: 16px;
  .swipe-maps-list{
    width: 100%;
    margin-bottom: 14px;
    .swipe-maps-thumbnail {
      width:  20px;
      height:  20px;
      background-color: #089BDC;
      margin-right: 8px;
    }
    .swipe-maps-label {
      font-size: 13px;
      font-weight: 500;
      color: var(--dark-800);
    }
  }
}
`;const{useState:U,useEffect:G,useRef:Y}=e.React,X="\n  position: absolute;\n  border: 1px solid rgba(110,110,110,.5);\n";function K(e){const{jimuMapViewGroup:t,widgetId:l,activeMapView:n,inactiveMapView:r,firstTrailingLayersId:a,secondTrailingLayersId:o,swipeStyle:c,handleScrollingLayerOfFirstMapView:u,handleScrollingLayerOfSecondMapView:d,handleScrollFirstMapView:p,dividerColor:v,isDesignMode:m}=e,y=n.mapWidgetId,h=Y(null),g=Y(null),[w,f]=U(0),[b,x]=U((null==a?void 0:a.length)>0),L=Y(b),[S,M]=U(null==n?void 0:n.view.height),[I,V]=U(null==n?void 0:n.view.width),j=Y(document.querySelector(`div[data-widgetid=${y}] .multi-map-container`)),C=e=>{var t;return null===(t=e.current)||void 0===t?void 0:t.querySelector(".multisourcemap-item-appear-noanimate")},E=Y(C(j)),A=e=>{var t;return null===(t=e.current)||void 0===t?void 0:t.querySelector(".multisourcemap-item-disappear-noanimate")},O=Y(A(j)),P=Y([]),k=null==n?void 0:n.view,R=Y(0),N=Y(!1),D=Y(!1),z=Y(0),$=Y(0),q=Y(null),_=Y(null),H=Y(null),[J,F]=U(0),B=Y([]),W=Y(0),K=`jimu-widget-swipe-${l}-handle-container`,Z=`jimu-widget-swipe-${l}-scroller`,Q=`jimu-widget-swipe-${l}-content`,ee=Y(),te=Y(!0),le=Y(!0),ne=(e,t)=>{return l=this,n=void 0,r=function*(){return yield e.whenJimuLayerViewLoaded(t)},new((i=void 0)||(i=Promise))((function(e,t){function a(e){try{s(r.next(e))}catch(e){t(e)}}function o(e){try{s(r.throw(e))}catch(e){t(e)}}function s(t){var l;t.done?e(t.value):(l=t.value,l instanceof i?l:new i((function(e){e(l)}))).then(a,o)}s((r=r.apply(l,n||[])).next())}));var l,n,i,r};G((()=>{j.current.style.pointerEvents=m?"none":null}),[m]),G((()=>()=>{j.current.style.pointerEvents=null}),[]),G((()=>{M(null==n?void 0:n.view.height),V(null==n?void 0:n.view.width)}),[n]),G((()=>{const e=()=>{E.current=C(j),O.current=A(j),L.current||void 0===o||0===o.length||(c===i.AdvancedVertical?E.current.style.clipPath=`inset(0px 0px ${n.view.width}px 0px)`:E.current.style.clipPath=`inset(0px ${n.view.height}px 0px 0px)`),(null==o?void 0:o.length)>0&&(O.current.style.opacity="1")};return n.addRestoreListener(e),()=>{n.removeRestoreListener(e)}}),[n,y,o,c]),G((()=>{const e=()=>{t.hideMapTools()};function u(){var e;const t=c===i.AdvancedVertical?"vertical":"horizontal",n=null===(e=null==o?void 0:o.asMutable())||void 0===e?void 0:e.map((e=>ne(r,e)));n&&Promise.all(n).then((e=>{var n,i;const a=e.map((e=>e.layer));B.current=null==a?void 0:a.map((e=>new s.default({id:l,view:null==r?void 0:r.view,disabled:!0,position:100,direction:t,trailingLayers:[e],visibleElements:{handle:!1,divider:!0}})));const o=null===(n=null==B?void 0:B.current)||void 0===n?void 0:n[0];null===(i=null==r?void 0:r.view)||void 0===i||i.ui.add(o),null==o||o.leadingLayers.addMany(o.trailingLayers),null==o||o.trailingLayers.removeAll(),te.current=!0}))}function d(){function e(){c===i.AdvancedVertical?t(_.current.scrollTop-S*((null==a?void 0:a.length)||0)):t(_.current.scrollLeft-I*((null==a?void 0:a.length)||0))}function t(e){W.current=e,D.current||(requestAnimationFrame((()=>{var e,t;D.current=!1;const l=c===i.AdvancedVertical?W.current/k.height:W.current/k.width,n=(null===(e=null==B?void 0:B.current)||void 0===e?void 0:e.length)-1;null===(t=null==B?void 0:B.current)||void 0===t||t.forEach(((e,t,i)=>{var a;null===(a=null==r?void 0:r.view)||void 0===a||a.ui.add(e),e.when((()=>{j.current.querySelectorAll(".esri-swipe__divider").forEach((function(e){e.style.backgroundColor=v}))}));let o=100*(t-l);0===t&&e.leadingLayers.length&&te.current&&(e.trailingLayers.addMany(e.leadingLayers),e.leadingLayers.removeAll(),te.current=!1),o<0&&e.trailingLayers.length?(e.leadingLayers.addMany(e.trailingLayers),e.trailingLayers.removeAll(),F(t)):o>=0&&e.leadingLayers.length&&(e.trailingLayers.addMany(e.leadingLayers),e.leadingLayers.removeAll(),F(t)),o>=0&&o<.1&&t===n&&F(t),o<0&&(o+=100),e.position=ie(o,0,100)}))})),D.current=!0)}function l(){c===i.AdvancedVertical?t(_.current.scrollTop-S*((null==a?void 0:a.length)||0)):t(_.current.scrollLeft-I*((null==a?void 0:a.length)||0))}(()=>{const e=j.current.querySelector(`#${Z}`),t=j.current.querySelector(`#${Q}`);_.current=e,H.current=t})(),(()=>{var t;const n=c===i.AdvancedVertical?"vertical":"horizontal",a=null===(t=null==o?void 0:o.asMutable())||void 0===t?void 0:t.map((e=>ne(r,e)));a&&Promise.all(a).then((t=>{var i,a;"vertical"===n?null===(i=null==r?void 0:r.view)||void 0===i||i.watch("height",l):null===(a=null==r?void 0:r.view)||void 0===a||a.watch("width",l),l(),_.current.addEventListener("scroll",e),"horizontal"===n&&_.current.addEventListener("wheel",ae)}))})()}function p(){c===i.AdvancedVertical?m(h.current.scrollTop):m(h.current.scrollLeft)}function m(e){R.current=e,N.current||(requestAnimationFrame((()=>{var e;N.current=!1;const t=c===i.AdvancedVertical?R.current/k.height:R.current/k.width,l=(null===(e=P.current)||void 0===e?void 0:e.length)-1;P.current.forEach(((e,n,s)=>{k.ui.add(e),e.when((()=>{j.current.querySelectorAll(".esri-swipe__divider").forEach((function(e){e.style.backgroundColor=v}))}));let u=100*(n-t);u<0&&e.trailingLayers.length?(e.leadingLayers.addMany(e.trailingLayers),e.trailingLayers.removeAll(),f(n)):u>=0&&e.leadingLayers.length&&(e.trailingLayers.addMany(e.leadingLayers),e.leadingLayers.removeAll(),f(n)),(0===u||u<-100)&&(r&&T(r.dataSourceId)&&(null==o?void 0:o.length)>0&&le.current&&(function(){const e=()=>{const e=j.current.querySelector(`#${Z}`),t=(null==a?void 0:a.length)>0?S*((null==a?void 0:a.length)-1):0;z.current=e.scrollTop-t,E.current.style.clipPath=`inset(0px 0px ${z.current}px 0px)`,z.current<S&&(x(!0),L.current=!0),z.current>=S&&(d(),x(!1),L.current=!1)},t=e=>{e.preventDefault();const t=j.current.querySelector(`#${Z}`),l=(null==a?void 0:a.length)>0?I*((null==a?void 0:a.length)-1):0;$.current=t.scrollLeft-l,E.current.style.clipPath=`inset(0px ${$.current}px 0px 0px)`,$.current<I&&x(!0),$.current>=I&&(d(),x(!1))};var l,n,r,o;(()=>{const l=j.current.querySelector(`#${Z}`);q.current=l,c===i.AdvancedVertical?l.addEventListener("scroll",e):l.addEventListener("scroll",t)})(),O.current.style.opacity="1",c===i.AdvancedVertical?(ee.current=document.createElement("div"),ee.current.id=K,ee.current.setAttribute("style",X),ee.current.style.transform=`translateY(${S}px`,ee.current.style.width=`${I}px`,ee.current.style.height="4px",ee.current.style.backgroundColor=v,ee.current.style.zIndex=null===(n=null===(l=E.current)||void 0===l?void 0:l.style)||void 0===n?void 0:n.zIndex):(ee.current=document.createElement("div"),ee.current.id=K,ee.current.setAttribute("style",X),ee.current.style.transform=`translateX(${I})px`,ee.current.style.height=`${S}px`,ee.current.style.width="4px",ee.current.style.backgroundColor=v,ee.current.style.zIndex=null===(o=null===(r=E.current)||void 0===r?void 0:r.style)||void 0===o?void 0:o.zIndex),j.current.appendChild(ee.current)}(),le.current=!1),n===l&&f(n)),u<0&&(u+=100),e.position=ie(u,0,100)}))})),N.current=!0)}function y(){c===i.AdvancedVertical?m(h.current.scrollTop):m(h.current.scrollLeft)}return(null==n?void 0:n.view)&&j.current&&(function(){const e=document.createElement("div");e.id=Z;const t=document.createElement("div");t.className="content",c===i.AdvancedVertical?(e.setAttribute("style","\n  position: absolute;\n  overflow-y: scroll;\n  z-index: 7;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  padding: 0;\n  margin: 0;\n"),t.setAttribute("style","\n  padding: 0;\n  margin: 0;\n  display: flex;\n  flexDirection: column;\n  alignItems: stretch;\n  alignContent: stretch;\n  justifyContent: space-evenly;\n"),t.style.height=S*(((null==a?void 0:a.length)||0)+((null==o?void 0:o.length)||0))+"px"):(e.setAttribute("style","\n  position: absolute;\n  overflow-x: scroll;\n  z-index: 7;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  padding: 0;\n  margin: 0;\n"),t.setAttribute("style","\n  padding: 0;\n  margin: 0;\n  height: 100%;\n  display: flex;\n  flexDirection: row;\n  alignItems: stretch;\n  alignContent: stretch;\n  justifyContent: space-evenly;\n"),t.style.width=I*(((null==a?void 0:a.length)||0)+((null==o?void 0:o.length)||0))+"px"),j.current.appendChild(e),e.appendChild(t),h.current=e,g.current=t}(),(null==a?void 0:a.length)>0?(function(){var e;const t=c===i.AdvancedVertical?"vertical":"horizontal",r=null===(e=null==a?void 0:a.asMutable())||void 0===e?void 0:e.map((e=>ne(n,e)));r&&Promise.all(r).then((e=>{const i=e.map((e=>e.layer));P.current=null==i?void 0:i.map((e=>new s.default({id:l,view:null==n?void 0:n.view,disabled:!0,position:100,direction:t,trailingLayers:[e],visibleElements:{handle:!1,divider:!0}}))),"vertical"===t?k.watch("height",y):k.watch("width",y),y(),h.current.addEventListener("scroll",p),"horizontal"===t&&h.current.addEventListener("wheel",re)}))}(),r&&u(),e(),le.current=!0):(null==o?void 0:o.length)>0&&(O.current.style.opacity="1",c===i.AdvancedVertical?E.current.style.clipPath=`inset(0px 0px ${n.view.width}px 0px)`:E.current.style.clipPath=`inset(0px ${n.view.height}px 0px 0px)`,x(!1),L.current=!1,r&&u(),d(),e())),()=>{var e;(function(){var e;const l=j.current.querySelector(`#${Z}`);l&&j.current.removeChild(l),null===(e=null==P?void 0:P.current)||void 0===e||e.forEach(((e,t,l)=>{var n;e.position=0,e.leadingLayers.removeAll(),e.trailingLayers.removeAll(),null===(n=k.ui)||void 0===n||n.remove(e)})),t.showMapTools()})(),null===(e=null==B?void 0:B.current)||void 0===e||e.forEach(((e,t,l)=>{var n,i;e.position=0,e.leadingLayers.removeAll(),e.trailingLayers.removeAll(),null===(i=null===(n=null==r?void 0:r.view)||void 0===n?void 0:n.ui)||void 0===i||i.remove(e)})),x(!0),function(){const e=j.current.querySelector(".scrollerMap");e&&j.current.removeChild(e),O.current&&(O.current.style.opacity=null),E.current&&(E.current.style.clipPath=null),ee.current&&j.current.querySelector(`#${K}`)&&j.current.contains(ee.current)&&j.current.removeChild(ee.current)}()}}),[l,k,n,a,o,c,v,K,S,I,Z,Q,r,t]),G((()=>{var e;const t=null===(e=null==a?void 0:a.asMutable())||void 0===e?void 0:e.map((e=>ne(n,e)));t&&Promise.all(t).then((e=>{u(e[w])}))}),[n,a,w,u]),G((()=>{var e;const t=null===(e=null==o?void 0:o.asMutable())||void 0===e?void 0:e.map((e=>ne(r,e)));t&&Promise.all(t).then((e=>{d(e[J])}))}),[o,J,r,d]),G((()=>{p(b)}),[p,b]);const ie=(e,t,l)=>Math.min(l,Math.max(t,e)),re=e=>{e.preventDefault();const t=-e.wheelDelta||30*-e.deltaY;h.current.scrollLeft=h.current.scrollLeft+t/2},ae=e=>{e.preventDefault();const t=-e.wheelDelta||30*-e.deltaY;_.current.scrollLeft=_.current.scrollLeft+t/2};return null}var Z=c(9600),Q=function(e,t,l,n){return new(l||(l=Promise))((function(i,r){function a(e){try{s(n.next(e))}catch(e){r(e)}}function o(e){try{s(n.throw(e))}catch(e){r(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof l?t:new l((function(e){e(t)}))).then(a,o)}s((n=n.apply(e,t||[])).next())}))};const{useState:ee,useEffect:te,useRef:le}=e.React;function ne(t){var i,r;const{scrollMapViewList:a,activeMapView:o,inactiveMapView:s,handlePanelSelectedFirstScrollLayer:c,handlePanelSelectedSecondScrollLayer:u,isAllowDeactivateLayers:d,toggleLayerVisibility:p,scrollingLayerOfFirstMapView:v,scrollingLayerOfSecondMapView:m,scrollFirstMapView:y,showSwipeOnMap:h,runtimeActiveMapViewAddedLayers:g,runtimeInactiveMapViewAddedLayers:w,handleRuntimePanelSelectedFirstScrollLayer:b,handleRuntimePanelSelectedSecondScrollLayer:x}=t,[L,S]=ee(!1),[I,V]=ee(!1),[C,A]=ee(!1),[O,P]=ee(!1),k=le(null),R=e.React.useRef([]),N=e.React.useRef([]),D=e.hooks.useTranslation(n);te((()=>{s||u((0,e.Immutable)([]))}),[u,s]);const[z,$]=ee(null),q=le(z),[_,H]=ee((0,e.Immutable)([])),[J,F]=ee([]),B=le(J),[W,U]=ee((0,e.Immutable)([])),[G,Y]=ee([]),X=le(G),[K,ne]=ee((0,e.Immutable)([])),[re,ae]=ee(null),oe=le(re),[se,ce]=ee((0,e.Immutable)([]));te((()=>{const e=null==a?void 0:a[null==o?void 0:o.id];H(e)}),[a,o]),te((()=>{const e=null==a?void 0:a[null==s?void 0:s.id];ce(e)}),[a,s]);const ue=(e,t)=>Q(this,void 0,void 0,(function*(){return yield e.whenJimuLayerViewLoaded(t)})),de=e.hooks.useEventCallback((()=>{const e=k.current,t=document.querySelector(".currentLegend");if(t&&t.remove(),h&&((null==_?void 0:_.length)>0||(null==se?void 0:se.length)>0)){const t=document.createElement("div");t.className="currentLegend",new Z.default({view:y?null==o?void 0:o.view:null==s?void 0:s.view,style:"classic",layerInfos:[{layer:y?null==v?void 0:v.layer:null==m?void 0:m.layer}]}).container=t,e.appendChild(t)}})),pe=e.hooks.useEventCallback(((t,l,n,i,r)=>{var o,s;const c=null===(s=null===(o=null==a?void 0:a[null==t?void 0:t.id])||void 0===o?void 0:o.asMutable())||void 0===s?void 0:s.map((e=>ue(t,e)));c&&Promise.all(c).then((t=>{const a=t.map((e=>({layerId:e.id,title:null==e?void 0:e.layer.title,selected:!0,visible:null==e?void 0:e.layer.visible,allowOperation:d})));l(a),i.current=a;const o=[];a.forEach((e=>{e.selected&&e.visible&&o.push(e.layerId)})),n((0,e.Immutable)(o)),r((0,e.Immutable)(o))})).catch((e=>{console.error(e)}))}));te((()=>{pe(o,$,H,q,c),pe(s,ae,ce,oe,u)}),[a,o,s,d,c,u,pe]),te((()=>{if((null==o?void 0:o.id)===(null==s?void 0:s.id))return;const t=null==g?void 0:g.asMutable({deep:!0}).map((e=>{const t=o.jimuLayerViews[e];return{layerId:e,title:t.layer.title,selected:!1,visible:t.layer.visible,allowOperation:!0}}));F(t),B.current=t;const l=[];if(t.forEach((e=>{e.selected&&e.visible&&l.push(e.layerId)})),U((0,e.Immutable)(l)),b((0,e.Immutable)(l)),s){const t=null==w?void 0:w.asMutable({deep:!0}).map((e=>{const t=s.jimuLayerViews[e];return{layerId:e,title:t.layer.title,selected:!1,visible:t.layer.visible,allowOperation:!0}}));Y(t),X.current=t;const l=[];t.forEach((e=>{e.selected&&e.visible&&l.push(e.layerId)})),ne((0,e.Immutable)(l)),x((0,e.Immutable)(l))}}),[o,b,x,s,g,w]);const ve=e.hooks.useEventCallback(((t,l,n,i,r)=>{var o,s;const c=null===(s=null===(o=null==a?void 0:a[null==t?void 0:t.id])||void 0===o?void 0:o.asMutable())||void 0===s?void 0:s.map((e=>ue(t,e)));c&&Promise.all(c).then((t=>{t.forEach((t=>{const a=[];a.push(null==t?void 0:t.layer.watch("visible",(()=>{const l=null==t?void 0:t.layer.visible,a=JSON.parse(JSON.stringify(n.current));a.forEach((e=>{e.layerId===t.id&&(e.visible=l)})),i(a),n.current=a;const o=[];null==a||a.forEach((e=>{e.selected&&e.visible&&o.push(e.layerId)})),r((0,e.Immutable)(o))}))),l.current=a}))}))}));te((()=>{const e=R.current;return ve(o,R,q,$,c),()=>{e.forEach((e=>{null==e||e.remove()}))}}),[a,o,ve,c]);const me=e.hooks.useEventCallback(((t,l,n,i,r,a)=>{l.forEach((l=>{const o=t.jimuLayerViews[l.layerId],s=[];s.push(null==o?void 0:o.layer.watch("visible",(()=>{const t=null==o?void 0:o.layer.visible,l=JSON.parse(JSON.stringify(n.current));l.forEach((e=>{e.layerId===o.id&&(e.visible=t)})),i(l),n.current=l;const a=[];null==l||l.forEach((e=>{e.selected&&e.visible&&a.push(e.layerId)})),r((0,e.Immutable)(a))}))),a.current=s}))}));te((()=>{const e=N.current;return me(o,J,B,F,b,N),()=>{e.forEach((e=>{null==e||e.remove()}))}}),[o,b,J,me]),te((()=>{c(_)}),[c,_]),te((()=>{b(W)}),[b,W]),te((()=>{x(K)}),[x,K]),te((()=>{u(se)}),[u,se]),te((()=>{(v||m)&&de()}),[de,v,m,o,s,h,y,a,_,se]);const ye=()=>{S(!L)},he=()=>{V(!I)},ge=()=>{A(!C)},we=()=>{P(!O)},fe=(t,l,n,i,r)=>{const a=JSON.parse(JSON.stringify(t));a.forEach((e=>{e.layerId===r&&(e.selected=!e.selected)})),l(a),i.current=a;const o=[];a.forEach((e=>{e.selected&&e.visible&&o.push(e.layerId)})),n((0,e.Immutable)(o))},be=t=>{if(!t)return"";const l=e.DataSourceManager.getInstance().getDataSource(t);return(null==l?void 0:l.getLabel())||(null==l?void 0:l.getDataSourceJson().sourceLabel)||t},xe=(e,t,l,n)=>{var i;return t?(null===(i=null==e?void 0:e[null==l?void 0:l.id])||void 0===i?void 0:i.indexOf(null==n?void 0:n.id))+1:-1},Le=(e,t)=>h?(null==e?void 0:e.indexOf(null==t?void 0:t.id))+1:-1,Se=e.React.useCallback((e=>Q(this,void 0,void 0,(function*(){const t=(yield ue(o,e))||(yield ue(s,e));t.layer.visible=!t.layer.visible}))),[o,s]);return(0,e.jsx)("div",{ref:k,css:ie},(0,e.jsx)(l.CollapsablePanel,{className:(0,e.classNames)("swipe-collapse "+(h&&y?"scroll-now":"")),label:be(o.dataSourceId),isOpen:L,"aria-label":be(o.dataSourceId),onRequestOpen:ye,onRequestClose:ye},(null===(i=null==a?void 0:a[null==o?void 0:o.id])||void 0===i?void 0:i.length)>0?(0,e.jsx)(f,{layerList:z,onChange:e=>{fe(z,$,H,q,e)},isAllowDeactivateLayers:d,toggleLayerVisibility:p,onToggleLayerVisibility:Se,highlightIndex:y?xe(a,h,o,v):-1}):(0,e.jsx)(M,{swipeLayerMode:!0}),(null==J?void 0:J.length)>0&&(0,e.jsx)(l.CollapsablePanel,{className:"swipe-collapse runtime-layer-collapse",label:D("runtimeLayers"),isOpen:C,"aria-label":D("runtimeLayers"),onRequestOpen:ge,onRequestClose:ge,rightIcon:E(),rightActiveIcon:j()},(0,e.jsx)(f,{layerList:J,isAllowDeactivateLayers:!0,toggleLayerVisibility:!0,onToggleLayerVisibility:Se,onChange:e=>{fe(J,F,U,B,e)},highlightIndex:y?Le(g,v):-1}))),s&&T(s.dataSourceId)&&(0,e.jsx)(l.CollapsablePanel,{className:(0,e.classNames)("swipe-collapse "+(h&&!y&&m?"scroll-now":"")),label:be(s.dataSourceId),isOpen:I,"aria-label":be(s.dataSourceId),onRequestOpen:he,onRequestClose:he},(null===(r=null==a?void 0:a[null==s?void 0:s.id])||void 0===r?void 0:r.length)>0?(0,e.jsx)(f,{layerList:re,onChange:e=>{fe(re,ae,ce,oe,e)},isAllowDeactivateLayers:d,toggleLayerVisibility:p,onToggleLayerVisibility:Se,highlightIndex:y?-1:xe(a,h,s,m)}):(0,e.jsx)(M,{swipeLayerMode:!0}),(null==G?void 0:G.length)>0&&(0,e.jsx)(l.CollapsablePanel,{className:"swipe-collapse runtime-layer-collapse",label:D("runtimeLayers"),isOpen:O,"aria-label":D("runtimeLayers"),onRequestOpen:we,onRequestClose:we,rightIcon:E(),rightActiveIcon:j()},(0,e.jsx)(f,{layerList:G,isAllowDeactivateLayers:!0,toggleLayerVisibility:!0,onToggleLayerVisibility:Se,onChange:e=>{fe(G,Y,ne,X,e)},highlightIndex:y?-1:Le(w,m)}))))}const ie=e.css`
  .swipe-collapse {
    margin-top: 16px;
    .title {
      font-weight: 600;
    }
    .layer-list {
      margin-top: 12px;
      margin-bottom: 16px;
    }
    .no-layer-placeholder {
      margin-top: 16px;
      margin-bottom: 16px;
    }
  }
  .runtime-layer-collapse {
    .title {
      font-size: 13px;
      font-weight: 500;
    }
  }
  .currentLegend {
    margin-top: 8px;
    .esri-legend__message, .esri-legend__service{
      padding-left: 0px;
    }
  }
  .scroll-now {
    .collapse-label {
      position: relative;
      &:after {
        width: 8px;
        height: 8px;
        border-radius: 50%;
        content: "";
        display: block;
        position: absolute;
        right: -10px;
        background-color: var(--primary);
      }
    }
  }
  .runtime-layer-collapse {
    .collapse-label {
      &:after {
        content: none
      }
    }
  }
`;var re=c(79964),ae=c.n(re);const oe=t=>{const l=window.SVG,{className:n}=t,i=function(e,t){var l={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(l[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(l[n[i]]=e[n[i]])}return l}(t,["className"]),r=(0,e.classNames)("jimu-icon jimu-icon-component",n);return l?e.React.createElement(l,Object.assign({className:r,src:ae()},i)):e.React.createElement("svg",Object.assign({className:r},i))},se=e.css`
  &.warning-info {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    .warning-icon {
      color: var(--warning-800);
      width: ${e.polished.rem(22)};
      height: ${e.polished.rem(22)};
      margin-bottom: ${e.polished.rem(10)};
    }
    .warning-text {
      font-size: ${e.polished.rem(13)};
      line-height: ${e.polished.rem(18)};
    }
  }
`;function ce(){const t=e.hooks.useTranslation(n);return(0,e.jsx)("div",{className:"w-100 d-flex flex-column align-items-center warning-info",css:se},(0,e.jsx)(oe,{className:"warning-icon"}),(0,e.jsx)("div",{className:"warning-text"},t("webSceneNotSupported")))}i.SimpleHorizontal;const ue={distance:35,unit:l.DistanceUnits.PERCENTAGE},de=e.css`
  &{
    .widget-container {
      overflow: auto;
    }
    .swipe-panel {
      padding: ${e.polished.rem(16)};
    }
    .swipe-title {
      .swipe-label {
        font-size: ${e.polished.rem(14)};
        color: var(--black);
        span {
          margin-left: 0.5rem;
        }
      }
    }
    .error-alert {
      position: absolute;
      bottom: 4px;
      left: 4px;
      z-index: 1;
    }
  }
`,{useState:pe,useEffect:ve,useCallback:me,useRef:ye}=e.React,he=a=>{var s,c,u,d,p,m,y;const{id:h,label:g,config:w}=a,{styleConfig:f,scrollMapViewList:b,swipeMapViewList:x,mapUseDataSourcesOrderList:L,swipeStyle:S,swipeMode:M}=w,{defaultActivation:I=!1,detailsVisibility:V=!0,isAllowDeactivateLayers:j=!0,toggleLayerVisibility:C=!1,sliderPosition:E=ue,dividerColor:A="var(--light)",handleColor:O="var(--light)"}=f||{},P=null===(s=a.useMapWidgetIds)||void 0===s?void 0:s[0],[k,N]=pe(null),[D,z]=pe(null),[T,$]=pe(null),[q,_]=pe(I),[H,J]=pe(null),[W,U]=pe(null),[G,Y]=pe(!0),[X,Z]=pe((0,e.Immutable)([])),[Q,ee]=pe((0,e.Immutable)([])),[te,le]=pe((0,e.Immutable)([])),[ie,re]=pe((0,e.Immutable)([])),[ae,oe]=pe((0,e.Immutable)([])),[se,he]=pe((0,e.Immutable)([])),[ge,we]=pe((0,e.Immutable)([])),[fe,be]=pe((0,e.Immutable)([])),[xe,Le]=pe((0,e.Immutable)([])),[Se,Me]=pe((0,e.Immutable)([])),[Ie,Ve]=pe((0,e.Immutable)([])),[je,Ce]=pe(!1),[Ee,Ae]=pe(!0),[Oe,Pe]=pe(!0),[ke,Re]=pe(!0),[Ne,De]=pe(!0),[ze,Te]=pe((0,e.Immutable)([])),[$e,qe]=pe((0,e.Immutable)([])),_e=ye(null),He=e.hooks.useTranslation(n,l.defaultMessages),Je=S===i.SimpleHorizontal||S===i.SimpleVertical,Fe=e.ReactRedux.useSelector((e=>{var t,l;return null===(l=(null!==(t=e.appStateInBuilder)&&void 0!==t?t:e).appConfig.widgets[P])||void 0===l?void 0:l.useDataSources})),Be=e.ReactRedux.useSelector((t=>t.appRuntimeInfo.appMode===e.AppMode.Design));ve((()=>{je&&!_e.current&&(_e.current=setTimeout((()=>{Ce(!1),_e.current=null}),3e3))}),[je]),ve((()=>{const e=null==Fe?void 0:Fe.map((e=>e.dataSourceId));Ve(e)}),[Fe]),ve((()=>{_(!1)}),[S,P]),ve((()=>{_(I)}),[I]);const We=e=>{var t,l,n;const i=[],r=null===(n=null===(l=null===(t=null==e?void 0:e.view)||void 0===t?void 0:t.map)||void 0===l?void 0:l.layers)||void 0===n?void 0:n.toArray();return null==r||r.forEach((t=>{const l=e.getJimuLayerViewByAPILayer(t);(null==l?void 0:l.fromRuntime)&&i.push(l.id)})),i};ve((()=>{re(X?X.concat(te):te)}),[X,te]),ve((()=>{he(Q?null==Q?void 0:Q.concat(ae):ae)}),[Q,ae]),ve((()=>{var l,n,i,r;const a=null==Fe?void 0:Fe.filter((e=>e.dataSourceId!==(null==k?void 0:k.dataSourceId))),o=P+"-"+(null===(l=null==a?void 0:a[0])||void 0===l?void 0:l.dataSourceId);const s=t.MapViewManager.getInstance().getJimuMapViewById(o);z(s);const c=We(k);Te((0,e.Immutable)(c)),Re(!0),De(!0);const u=We(s);qe((0,e.Immutable)(u));const d=()=>{const t=We(k);Te((0,e.Immutable)(t))};null==k||k.addJimuLayerViewCreatedListener(d);const p=null===(r=null===(i=null===(n=null==k?void 0:k.view)||void 0===n?void 0:n.map)||void 0===i?void 0:i.layers)||void 0===r?void 0:r.on("after-remove",(t=>{const l=We(k);Te((0,e.Immutable)(l)),Re(!0),De(!0)}));return()=>{null==k||k.removeJimuLayerViewCreatedListener(d),null==p||p.remove()}}),[k,Fe,P]);const Ue=()=>{if(!q){const e=document.querySelector(`.jimu-widget-swipe .useMapWidgetId-${P} .swipe-title .checked:not(.${h})`);e&&(Ce(!0),e.getElementsByTagName("input")[0].click())}_(!q)},Ge=me((e=>{J(e)}),[]),Ye=me((e=>{U(e)}),[]),Xe=me((e=>{Y(e)}),[]),Ke=me((e=>{Z(e),Pe(!0)}),[]),Ze=me((e=>{ee(e),Pe(!0)}),[]),Qe=me((e=>{le(e),De(!0)}),[]),et=me((e=>{oe(e),De(!0)}),[]),tt=me((e=>{we(e),Ae(!0)}),[]),lt=me((e=>{be(e),Ae(!0)}),[]),nt=me((e=>{Le(e),Re(!0)}),[]),it=me((e=>{Me(e),Re(!0)}),[]),rt=!Je&&!!k&&(null==Ie?void 0:Ie.length)>0&&"2d"===(null===(c=null==k?void 0:k.view)||void 0===c?void 0:c.type)&&(null==T?void 0:T.jimuMapViews)&&Object.keys(null==T?void 0:T.jimuMapViews).length>0,at=Je&&!!k&&"LOADED"===k.status&&"2d"===(null===(u=null==k?void 0:k.view)||void 0===u?void 0:u.type)&&M===r.SwipeBetweenLayers,ot=Je&&M===r.SwipeBetweenMaps&&(null==T?void 0:T.jimuMapViews)&&2===Object.keys(null==T?void 0:T.jimuMapViews).length&&2===Ie.length,st=q&&S&&!Je&&"2d"===(null===(d=null==k?void 0:k.view)||void 0===d?void 0:d.type)&&(null==Ie?void 0:Ie.length)>0&&(null==T?void 0:T.jimuMapViews)&&Object.keys(null==T?void 0:T.jimuMapViews).length>0,ct="2d"===(null===(p=null==k?void 0:k.view)||void 0===p?void 0:p.type)&&((null===(m=null==ge?void 0:ge.concat(xe))||void 0===m?void 0:m.length)>0||(null===(y=null==fe?void 0:fe.concat(Se))||void 0===y?void 0:y.length)>0),ut=(null==T?void 0:T.jimuMapViews)&&2===Object.keys(null==T?void 0:T.jimuMapViews).length&&(null==k?void 0:k.view)&&(null==D?void 0:D.view);return(0,e.jsx)("div",{className:"jimu-widget jimu-widget-swipe",css:de},P&&(0,e.jsx)(t.JimuMapViewComponent,{useMapWidgetId:P,onActiveViewChange:e=>{(null==e?void 0:e.view)?(N(e),Ae(!1),Pe(!1),Re(!1),De(!1)):N(null)},onViewsCreate:e=>{const l=t.MapViewManager.getInstance().getJimuMapViewGroup(P);$(l),Object.keys(e).forEach((t=>{const l=e[t];l.isActive||z(l)}))}}),P&&S?(0,e.jsx)("div",{className:"widget-container surface-1 border-0 w-100 h-100"},(()=>{var t,n;return(0,e.jsx)("div",{className:(0,e.classNames)(`swipe-panel useMapWidgetId-${P}`)},(0,e.jsx)("div",{className:"swipe-title d-flex justify-content-between"},(0,e.jsx)("div",{className:"swipe-label"},(0,e.jsx)(l.Icon,{icon:o()}),(0,e.jsx)("span",null,g)),(0,e.jsx)("div",null,(0,e.jsx)(l.Switch,{"aria-label":g,title:g,className:h,checked:q,onChange:Ue}))),(0,e.jsx)("div",{className:(0,e.classNames)({"d-none":!V})},rt&&Ne&&(0,e.jsx)(ne,{scrollMapViewList:b,activeMapView:k,inactiveMapView:D,handlePanelSelectedFirstScrollLayer:Ke,handlePanelSelectedSecondScrollLayer:Ze,isAllowDeactivateLayers:j,toggleLayerVisibility:C,scrollingLayerOfFirstMapView:H,scrollingLayerOfSecondMapView:W,scrollFirstMapView:G,showSwipeOnMap:q,runtimeActiveMapViewAddedLayers:ze,runtimeInactiveMapViewAddedLayers:$e,handleRuntimePanelSelectedFirstScrollLayer:Qe,handleRuntimePanelSelectedSecondScrollLayer:et}),!Je&&"3d"===(null===(t=null==k?void 0:k.view)||void 0===t?void 0:t.type)&&(0,e.jsx)(ce,null),Je&&"3d"===(null===(n=null==k?void 0:k.view)||void 0===n?void 0:n.type)&&M===r.SwipeBetweenLayers&&(0,e.jsx)(ce,null),at&&ke&&(0,e.jsx)(R,{swipeMapViewList:x,activeMapView:k,isAllowDeactivateLayers:j,toggleLayerVisibility:C,handlePanelSelectedLeadingLayers:tt,handlePanelSelectedTrailingLayers:lt,runtimeAddedLayers:ze,handleRuntimePanelSelectedLeadingLayers:nt,handleRuntimePanelSelectedTrailingLayers:it}),ot&&(0,e.jsx)(B,{mapUseDataSourcesOrderList:L,mapUseDataSources:Ie}),je&&(0,e.jsx)(l.Alert,{className:"w-100 error-alert",form:"basic",open:!0,withIcon:!0,type:"warning",text:He("mapOccupiedMsg")})))})()):(0,e.jsx)(l.WidgetPlaceholder,{icon:o(),message:He("_widgetLabel")}),q&&S&&Je&&(M===r.SwipeBetweenLayers?ct&&Ee&&(0,e.jsx)(v,{widgetId:h,activeMapView:k,leadingLayersId:ge.concat(xe),trailingLayersId:fe.concat(Se),swipeStyle:S,sliderPosition:E,dividerColor:A,handlerColor:O,isDesignMode:Be}):ut&&(0,e.jsx)(F,{swipeMode:M,widgetId:h,activeMapView:k,inactiveMapView:D,jimuMapViewGroup:T,sliderPosition:E,swipeStyle:S,mapUseDataSourcesOrderList:L,mapUseDataSources:Ie,dividerColor:A,handlerColor:O,isDesignMode:Be})),st&&Oe&&(0,e.jsx)(K,{widgetId:h,activeMapView:k,inactiveMapView:D,jimuMapViewGroup:T,firstTrailingLayersId:ie,secondTrailingLayersId:se,swipeStyle:S,handleScrollingLayerOfFirstMapView:Ge,handleScrollingLayerOfSecondMapView:Ye,handleScrollFirstMapView:Xe,dividerColor:A,isDesignMode:Be}))};function ge(e){c.p=e}})(),u})())}}}));