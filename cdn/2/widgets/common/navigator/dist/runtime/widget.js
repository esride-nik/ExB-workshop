System.register(["jimu-core","jimu-ui","jimu-layouts/layout-runtime","jimu-theme"],(function(e,t){var o={},n={},i={},l={};return{setters:[function(e){o.BaseVersionManager=e.BaseVersionManager,o.BrowserSizeMode=e.BrowserSizeMode,o.Immutable=e.Immutable,o.LayoutItemType=e.LayoutItemType,o.LayoutType=e.LayoutType,o.LinkType=e.LinkType,o.React=e.React,o.ReactRedux=e.ReactRedux,o.appActions=e.appActions,o.css=e.css,o.getAppStore=e.getAppStore,o.getIndexFromProgress=e.getIndexFromProgress,o.hooks=e.hooks,o.jimuHistory=e.jimuHistory,o.jsx=e.jsx,o.lodash=e.lodash,o.moduleLoader=e.moduleLoader,o.polished=e.polished,o.utils=e.utils},function(e){n.NavButtonGroup=e.NavButtonGroup,n.Navigation=e.Navigation,n.PageNumber=e.PageNumber,n.Slider=e.Slider,n.TextAlignValue=e.TextAlignValue,n.WidgetPlaceholder=e.WidgetPlaceholder,n.componentStyleUtils=e.componentStyleUtils,n.defaultMessages=e.defaultMessages,n.styleUtils=e.styleUtils,n.utils=e.utils},function(e){i.searchUtils=e.searchUtils},function(e){l.useTheme=e.useTheme}],execute:function(){e((()=>{var e={4175:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20"><path fill="#000" fill-rule="evenodd" d="M1.25 2.5h17.5v11.25H1.25zM0 2.5c0-.69.56-1.25 1.25-1.25h17.5c.69 0 1.25.56 1.25 1.25v11.25c0 .69-.56 1.25-1.25 1.25H1.25C.56 15 0 14.44 0 13.75zm3.75 16.25h2.5V17.5h-2.5zm7.5 0h-2.5V17.5h2.5zm2.5 0h2.5V17.5h-2.5z" clip-rule="evenodd"></path></svg>'},11407:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M11.347 2.146a.485.485 0 0 1 0 .708L5.76 8l5.587 5.146a.486.486 0 0 1 0 .708.538.538 0 0 1-.738 0l-5.956-5.5a.485.485 0 0 1 0-.708l5.956-5.5a.538.538 0 0 1 .738 0" clip-rule="evenodd"></path></svg>'},3273:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M4.653 13.854a.485.485 0 0 1 0-.708L10.24 8 4.653 2.854a.485.485 0 0 1 0-.708.538.538 0 0 1 .738 0l5.956 5.5a.485.485 0 0 1 0 .708l-5.956 5.5a.538.538 0 0 1-.738 0" clip-rule="evenodd"></path></svg>'},63503:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 6 6"><circle cx="1104" cy="1049" r="3" fill="#000" fill-rule="nonzero" transform="translate(-1101 -1046)"></circle></svg>'},86444:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill-rule="nonzero" d="M2 1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zm0-1h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2m6 12.9a.8.8 0 1 1 0-1.6.8.8 0 0 1 0 1.6M3.16 7l1.7 1.686a.474.474 0 0 1 0 .674.483.483 0 0 1-.68 0L2.14 7.337a.474.474 0 0 1 0-.674L4.18 4.64a.483.483 0 0 1 .68 0 .474.474 0 0 1 0 .674zm9.68 0-1.7-1.686a.474.474 0 0 1 0-.674.483.483 0 0 1 .68 0l2.04 2.023a.474.474 0 0 1 0 .674L11.82 9.36a.483.483 0 0 1-.68 0 .474.474 0 0 1 0-.674zM5.4 12.9a.8.8 0 1 1 0-1.6.8.8 0 0 1 0 1.6m5.2 0a.8.8 0 1 1 0-1.6.8.8 0 0 1 0 1.6"></path></svg>'},48891:e=>{"use strict";e.exports=o},74758:e=>{"use strict";e.exports=i},34796:e=>{"use strict";e.exports=l},30726:e=>{"use strict";e.exports=n}},t={};function a(o){var n=t[o];if(void 0!==n)return n.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,a),i.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var o in t)a.o(t,o)&&!a.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.p="";var s={};return a.p=window.jimuConfig.baseUrl,(()=>{"use strict";a.r(s),a.d(s,{__set_webpack_public_path__:()=>z,default:()=>E});var e,t=a(48891);!function(e){e.Auto="AUTO",e.Custom="CUSTOM"}(e||(e={}));var o=a(30726);const n={_widgetLabel:"Views Navigation",widgetPlaceholder:"Please add a Section to use this widget.",tabDefault:"Tab default",tabUnderline:"Tab underline",tabPills:"Tab pills",arrow1:"Arrow 1",arrow2:"Arrow 2",arrow3:"Arrow 3"},i=a(86444),l=e=>{const{widgetId:l,show:a}=e,s=t.hooks.useTranslation(n);return a?t.React.createElement(o.WidgetPlaceholder,{icon:i,widgetId:l,message:s("widgetPlaceholder")}):null};var r=a(74758),d=a(4175),u=a.n(d),v=a(34796);const{useEffect:c,useMemo:p,useCallback:g}=t.React,{useSelector:h,useDispatch:m}=t.ReactRedux,f=a(63503),y=a(11407),w=a(3273),x=(e,t)=>(100*e+100*t)/100,S=(e,o,n=(0,t.Immutable)([]))=>{const i=(0,t.getIndexFromProgress)(e,n.length);return(0,t.Immutable)({visibleViews:o}).set("previousViewId",n[i.previousIndex]).set("currentViewId",n[i.currentIndex]).set("useProgress",!0).set("progress",e)},b=e=>(0,t.Immutable)(e).merge({item:{hover:{fontWeight:"400"},active:{fontWeight:"400"},disabled:{fontWeight:"400"}}},{deep:!0});const I=t.css`
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
`,T=e=>{const{data:n,progress:i=0,type:l,navStyle:a,vertical:s,advanced:r,variant:d,onChange:u,activeView:c,standard:g,paginationFontColor:h}=e,m=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(o[n[i]]=e[n[i]])}return o}(e,["data","progress","type","navStyle","vertical","advanced","variant","onChange","activeView","standard","paginationFontColor"]),{current:f,totalPage:y,showPageNumber:w,scrollable:x,disablePrevious:S,disableNext:T,previousText:C,previousIcon:R,nextText:P,nextIcon:A,showIcon:M,gap:B,alternateIcon:j,activedIcon:N,showText:k,showTitle:V,iconPosition:L,textAlign:O,hideThumb:U}=g||{},E=t.React.useRef((()=>0));t.React.useEffect((()=>(E.current=t.lodash.throttle((e=>{let t=+e.target.value;t=Number((t/100).toFixed(2)),null==u||u("slider",t)}),100),()=>{E.current.cancel()})),[u]);const z=t.React.useCallback((e=>c===(e=>{if(!(null==e?void 0:e.value))return"";const t=e.value.split(",");return(null==t?void 0:t.length)?t[1]:""})(e)),[c]),$=((e,n,i,l,a,s)=>p((()=>{var r,d,u;if(!i||!l)return t.css``;const v=null===(u=null===(d=null===(r=(0,t.getAppStore)())||void 0===r?void 0:r.getState())||void 0===d?void 0:d.appContext)||void 0===u?void 0:u.isRTL;return"nav"===e?((e,n,i,l)=>t.css`
    .jimu-nav{
      ${o.componentStyleUtils.nav.getRootStyles(null==n?void 0:n.root)};
      ${o.componentStyleUtils.nav.getVariantStyles(e,b(n),i,l)};
      ${o.styleUtils.getButtonStyleByState(null==n?void 0:n.item,!0)}
    }
`)(n,l,a,v):"navButtonGroup"===e?(e=>t.css`
    .nav-button-group {
      ${o.componentStyleUtils.navButtonGroup.getVariantStyles(b(e))};
      ${o.styleUtils.getButtonStyleByState(null==e?void 0:e.item,!1)}
    }
 `)(l):"slider"===e?((e,n,i)=>t.css`
   > .jimu-slider {
    ${o.componentStyleUtils.slider.getRootStyles(null==e?void 0:e.root)};
    ${o.componentStyleUtils.slider.getVariantStyles(e,n,i)};
   }
 `)(l,s,v):t.css``}),[i,e,n,l,a,s]))(l,a,r,d,s,U),D=(e=>{var o;const n=(0,v.useTheme)();return p((()=>{var o;return t.css`
      ${"slider"===e&&t.css`padding: 0.625rem 0.25rem;`}
      .nav-button-group >.direction-button {
        &:focus,
        &:focus-visible {
          outline-offset: -${null===(o=null==n?void 0:n.focusedStyles)||void 0===o?void 0:o.offset};
        }
      }
    `}),[null===(o=null==n?void 0:n.focusedStyles)||void 0===o?void 0:o.offset,e])})(l);return(0,t.jsx)("div",Object.assign({className:"navigation",css:[I,$,D]},m),"nav"===l&&(0,t.jsx)(o.Navigation,{role:"tablist",vertical:s,isActive:z,scrollable:x,data:n,gap:B,type:a,showIcon:M,alternateIcon:j,activedIcon:N,showText:k,showTitle:V||k,isUseNativeTitle:!0,iconPosition:L,navLinkRole:"button",textAlign:O}),"slider"===l&&(0,t.jsx)(o.Slider,{className:"h-100",size:"sm",value:100*i,hideThumb:U,onChange:e=>{var t;null===(t=e.persist)||void 0===t||t.call(e),E.current(e)}}),"navButtonGroup"===l&&(0,t.jsx)(o.NavButtonGroup,{type:a,previousText:C,previousIcon:R,nextText:P,nextIcon:A,vertical:s,disablePrevious:S,disableNext:T,onChange:e=>{null==u||u("navButtonGroup",e)}},w&&(0,t.jsx)(o.PageNumber,{current:f,totalPage:y,css:h?t.css`color: ${h}`:t.css``})))},C={data:{type:"AUTO",section:"",views:[]},display:{advanced:!1,vertical:!1,navType:"default",alignment:"center",showText:!0,showIcon:!1,iconPosition:"start"}};class R extends t.BaseVersionManager{constructor(){super(...arguments),this.versions=[{version:"1.0.0",description:"Version manager for release 1.0.0",upgrader:e=>{var t;if(!e)return C;let o=e;return(null===(t=null==e?void 0:e.display)||void 0===t?void 0:t.variants)&&(o=o.setIn(["display","advanced"],!0)),o}},{version:"1.1.0",description:"Version manager for release 1.1.0",upgrader:e=>(e=>{const o=e;if(!e)return;const n=o.display;if(!n)return e;let i=(0,t.Immutable)({});const l=((e,t)=>{if(!e)return;const o=null==e?void 0:e[t];if(!o)return;let n=o;return o.bg&&(n=n.setIn(["root","bg"],o.bg),n=n.without("bg")),n})(n.variants,n.navType);return i=i.set("type","nav").set("vertical",n.vertical).set("advanced",n.advanced).set("navStyle",n.navType).set("standard",{scrollable:!0,textAlign:n.alignment,showText:n.showText,showIcon:n.showIcon,iconPosition:n.iconPosition}).set("variant",l),o.set("display",i)})(e||C)},{version:"1.13.0",description:"Change borderRadius from 50rem to 6.25rem in pills style",upgrader:e=>{var t,o,n,i;if("pills"!==(null===(t=null==e?void 0:e.display)||void 0===t?void 0:t.navStyle)||!(null===(o=null==e?void 0:e.display)||void 0===o?void 0:o.advanced))return e;let l=e;return Object.keys((null===(i=null===(n=null==l?void 0:l.display)||void 0===n?void 0:n.variant)||void 0===i?void 0:i.item)||{}).forEach((e=>{var t,o,n,i;"50rem"===(null===(i=null===(n=null===(o=null===(t=null==l?void 0:l.display)||void 0===t?void 0:t.variant)||void 0===o?void 0:o.item)||void 0===n?void 0:n[e])||void 0===i?void 0:i.borderRadius)&&(l=l.setIn(["display","variant","item",e,"borderRadius"],"6.25rem"))})),l}}]}}const P=new R;var A,M,B;!function(e){e[e.BringForward=0]="BringForward",e[e.SendBackward=1]="SendBackward",e[e.BringToFront=2]="BringToFront",e[e.SendToBack=3]="SendToBack"}(A||(A={})),function(e){e.Auto="auto",e[e.Normal=0]="Normal",e[e.BoundaryDropArea=10]="BoundaryDropArea",e[e.DragMoveTip=20]="DragMoveTip",e[e.HandlerTools=30]="HandlerTools",e[e.DraggingItem=40]="DraggingItem"}(M||(M={})),function(e){e.Auto="AUTO",e.Stretch="STRETCH",e.Custom="CUSTOM"}(B||(B={}));const{useRef:j,useEffect:N,useState:k,useMemo:V}=t.React,{useSelector:L,useDispatch:O}=t.ReactRedux,U=i=>{var a,s,d,v,b;const{id:I,config:C,builderSupportModules:R,onInitDragHandler:P,onInitResizeHandler:A}=i,M=O(),U=null===(a=null==R?void 0:R.jimuForBuilderLib)||void 0===a?void 0:a.getAppConfigAction,E=j(null),{current:z}=j(null===(d=null===(s=(0,t.getAppStore)().getState())||void 0===s?void 0:s.appContext)||void 0===d?void 0:d.isInBuilder),$=L((e=>{var t,o;return null===(o=null===(t=null==e?void 0:e.widgetsState)||void 0===t?void 0:t[I])||void 0===o?void 0:o.showQuickStyle})),D=L((e=>{var t,o;return null===(o=null===(t=null==e?void 0:e.widgetsState)||void 0===t?void 0:t[I])||void 0===o?void 0:o.hasEverMount})),W=(e=>{const i=t.hooks.useTranslation(o.defaultMessages,n),l=o.utils.toIconResult(y,i("arrowLeft"),16);l.properties.originalName="outlined/directional/left.svg";const a=o.utils.toIconResult(w,i("arrowRight"),16);a.properties.originalName="outlined/directional/right.svg";const s=o.utils.toIconResult(f,i("drawToolDot"),8);return p((()=>{if(e)return[{label:i("tabDefault"),type:"nav",navStyle:"default",standard:{gap:"0px",scrollable:!0,showIcon:!1,showText:!0,iconPosition:"start",textAlign:o.TextAlignValue.CENTER}},{label:i("tabUnderline"),type:"nav",navStyle:"underline",standard:{gap:"0px",scrollable:!0,showIcon:!1,showText:!0,iconPosition:"start",textAlign:o.TextAlignValue.CENTER}},{label:i("tabPills"),type:"nav",navStyle:"pills",standard:{gap:"0px",scrollable:!0,showIcon:!1,showText:!0,iconPosition:"start",textAlign:o.TextAlignValue.CENTER}},{label:i("symbol"),type:"nav",navStyle:"default",standard:{scrollable:!1,gap:"10px",showIcon:!0,alternateIcon:s,activedIcon:s,showText:!1,iconPosition:"start",textAlign:o.TextAlignValue.CENTER}},{label:i("slider"),type:"slider",navStyle:"default"},{label:i("arrow1"),type:"navButtonGroup",navStyle:"default",standard:{showPageNumber:!0,previousText:"",previousIcon:l,nextText:"",nextIcon:a}},{label:i("arrow2"),type:"navButtonGroup",navStyle:"tertiary",standard:{previousText:i("prev"),previousIcon:l,nextText:i("next"),nextIcon:a}},{label:i("arrow3"),type:"navButtonGroup",navStyle:"tertiary",standard:{showPageNumber:!0,previousText:"",previousIcon:l,nextText:"",nextIcon:a}}]}),[e,i,s,l,a])})(z),H=null==C?void 0:C.display,_=null==C?void 0:C.data,F=null==H?void 0:H.standard,G=null==_?void 0:_.type,Q=null==_?void 0:_.section,q=null!==(v=null==F?void 0:F.step)&&void 0!==v?v:1,[J,K]=k(!1),X=L((e=>{var t,o,n,i;return null===(i=null===(n=null===(o=null===(t=null==e?void 0:e.appConfig)||void 0===t?void 0:t.sections)||void 0===o?void 0:o[Q])||void 0===n?void 0:n.views)||void 0===i?void 0:i[0]})),Y=L((e=>{var t,o;return null===(o=null===(t=null==e?void 0:e.appRuntimeInfo)||void 0===t?void 0:t.sectionNavInfos)||void 0===o?void 0:o[Q]})),Z=((o,n,i)=>{const l=h((e=>{var t,n,i;return null===(i=null===(n=null===(t=null==e?void 0:e.appConfig)||void 0===t?void 0:t.sections)||void 0===n?void 0:n[o])||void 0===i?void 0:i.views}));return t.React.useMemo((()=>{const o=((i===e.Custom?n:l)||(0,t.Immutable)([])).asMutable();return o.sort(((e,t)=>(null==l?void 0:l.indexOf(e))-(null==l?void 0:l.indexOf(t)))),(0,t.Immutable)(o)}),[n,l,i])})(Q,null==_?void 0:_.views,G),ee=((e,n)=>{const i=h((e=>e.appConfig.views)),l=h((e=>{const t=e.appConfig.pages,o=Object.keys(t).find((e=>{var o;return null===(o=null==t?void 0:t[e])||void 0===o?void 0:o.isDefault}));return e.appRuntimeInfo.currentPageId||o}));return t.React.useMemo((()=>{var a;return null!==(a=null==e?void 0:e.map((e=>{var a,s,r,d;const v=null===(a=null==i?void 0:i[e])||void 0===a?void 0:a.label,c=(null===(s=null==i?void 0:i[e])||void 0===s?void 0:s.icon)||o.utils.toIconResult(u(),"",16);return{name:v,linkType:t.LinkType.View,value:`${l},${e}`,icon:"nav"!==(null==n?void 0:n.type)||(null===(r=null==n?void 0:n.standard)||void 0===r?void 0:r.showText)?c:void 0,navLinkAriaControls:`${null===(d=null==i?void 0:i[e])||void 0===d?void 0:d.parent}_${e}`}})))&&void 0!==a?a:(0,t.Immutable)([])}),[n,l,i,e])})(Z,H),te=null==Y?void 0:Y.progress,oe=null==Y?void 0:Y.useProgress,ne=null!==(b=null==Y?void 0:Y.currentViewId)&&void 0!==b?b:X,ie=(le=null==H?void 0:H.vertical,p((()=>t.css`
      overflow: hidden;
      min-height: ${le?t.polished.rem(16):"unset"};
      min-width: ${le?"unset":t.polished.rem(16)};
      max-width: 100vw;
      max-height: 100vh;
    `),[le]));var le;const ae=t.React.useMemo((()=>{const e=((e,t,o,n)=>{var i,l;let a,s;const r=null!==(i=null==n?void 0:n.length)&&void 0!==i?i:0;let d=(null==n?void 0:n.includes(e))?null==n?void 0:n.indexOf(e):0;if(d+=1,o){let e=0;const o=null!==(l=null==n?void 0:n.length)&&void 0!==l?l:0;if(o>1){e=t*(o-1);const n=e%1;e=Math.floor(e),a=0===e&&0===n,s=e===r-1&&0===n}}else a=d<=1,s=d===r;return{current:d,totalPage:r,disableNext:s,disablePrevious:a}})(ne,te,oe,Z);return Object.assign(Object.assign({},F),e)}),[ne,te,F,oe,Z]),se=t.React.useCallback((()=>{M(t.appActions.widgetStatePropChange(I,"showQuickStyle",!1))}),[M,I]),re=o=>{if(!U)return;const n=(0,t.Immutable)(o).set("vertical",!1).set("advanced",!1).set("variant",null);U().editWidgetProperty(I,"config",C.setIn(["data","type"],e.Auto).set("display",n)).exec(),((e,o)=>{var n,i,l;if(!o)return;let a;const s=(0,t.getAppStore)().getState();a=window.jimuConfig.isBuilder?null==s?void 0:s.appStateInBuilder:s;const r=null===(n=null==a?void 0:a.appRuntimeInfo)||void 0===n?void 0:n.selection,d=null===(i=a.appConfig.layouts)||void 0===i?void 0:i[null==r?void 0:r.layoutId];if(d&&(null==d?void 0:d.type)===t.LayoutType.FixedLayout){const t="nav"===(null==e?void 0:e.type)&&(null===(l=null==e?void 0:e.standard)||void 0===l?void 0:l.showText),n=null==e?void 0:e.vertical;o().editLayoutItemSize(r,n?60:380,n?380:60).exec(),o().editLayoutItemProperty(r,"setting.autoProps",{width:t||n?B.Auto:B.Custom,height:t||!n?B.Auto:B.Custom}).exec()}})(o,U)};(e=>{const o=m(),n=h((o=>t.utils.isWidgetSelected(e,o)?o.appRuntimeInfo.appMode:null));t.hooks.useUpdateEffect((()=>{o(t.appActions.widgetStatePropChange(e,"showQuickStyle",!1))}),[n,e])})(I),(e=>{const o=t.hooks.useWidgetSelected(e),n=m();t.hooks.useUpdateEffect((()=>{o||n(t.appActions.widgetStatePropChange(e,"showQuickStyle",!1))}),[o,e])})(I),((e,o)=>{const n=t.hooks.useWidgetSelected(e),i=m();c((()=>{n&&!o&&(i(t.appActions.widgetStatePropChange(e,"showQuickStyle",!0)),i(t.appActions.widgetStatePropChange(e,"hasEverMount",!0)))}),[])})(I,D);const de=((e,o)=>g((n=>{var i;const l=(0,t.getAppStore)().getState().appConfig.widgets[e].config,a=null===(i=null==l?void 0:l.data)||void 0===i?void 0:i.section;if(!(null==n?void 0:n.includes(a))){if(!a&&!(null==n?void 0:n[0]))return;o().editWidgetProperty(e,"config",l.setIn(["data","section"],null==n?void 0:n[0])).exec(!1)}}),[o,e]))(I,U);((e,o)=>{const n=(e=>{const o=t.ReactRedux.useSelector((e=>{var t;return null===(t=null==e?void 0:e.appConfig)||void 0===t?void 0:t.layouts})),n=t.ReactRedux.useSelector((e=>{var t;return null===(t=null==e?void 0:e.appConfig)||void 0===t?void 0:t.sections})),i=t.ReactRedux.useSelector((e=>null==e?void 0:e.browserSizeMode)),l=t.ReactRedux.useSelector((e=>null==e?void 0:e.appConfig.mainSizeMode));return t.React.useMemo((()=>{const o=(0,t.getAppStore)().getState().appConfig,n=r.searchUtils.getContentsInTheSameContainer(o,e,t.LayoutItemType.Widget,t.LayoutItemType.Section,i);return n&&n.length>0?n:r.searchUtils.getContentsInTheSameContainer(o,e,t.LayoutItemType.Widget,t.LayoutItemType.Section,l)||[]}),[e,i,n,o])})(e),i=t.hooks.useLatest(o),{current:l}=t.React.useRef((0,t.getAppStore)().getState().appContext.isInBuilder);c((()=>{var e;l&&(null===(e=i.current)||void 0===e||e.call(i,n))}),[n,l,i])})(I,de);const ue=((o,n)=>g((i=>{var l,a,s,r,d,u;const v=(0,t.getAppStore)().getState().appConfig.widgets[o].config,c=(null===(l=null==v?void 0:v.data)||void 0===l?void 0:l.type)===e.Custom?null===(s=null===(a=null==v?void 0:v.data)||void 0===a?void 0:a.views)||void 0===s?void 0:s.filter((e=>null==i?void 0:i.includes(e))):i;((null==c?void 0:c.length)||(null===(d=null===(r=null==v?void 0:v.data)||void 0===r?void 0:r.views)||void 0===d?void 0:d.length))&&(t.lodash.isDeepEqual(c,null===(u=null==v?void 0:v.data)||void 0===u?void 0:u.views)||n().editWidgetProperty(o,"config",v.setIn(["data","views"],c)).exec(!1))}),[n,o]))(I,U);((e,o)=>{const n=h((t=>{var o,n,i;return null===(i=null===(n=null===(o=null==t?void 0:t.appConfig)||void 0===o?void 0:o.sections)||void 0===n?void 0:n[e])||void 0===i?void 0:i.views})),{current:i}=t.React.useRef((0,t.getAppStore)().getState().appContext.isInBuilder),l=t.hooks.useLatest(o);c((()=>{var e;i&&(null===(e=l.current)||void 0===e||e.call(l,n))}),[n,l,i])})(Q,ue);const ve=(e=>{const o=m();return g(((n,i)=>{var l,a,s,r,d,u,v,c,p,g,h,m,f;const y=null===(l=(0,t.getAppStore)())||void 0===l?void 0:l.getState(),w=null===(s=null===(a=y.appConfig.sections)||void 0===a?void 0:a[e])||void 0===s?void 0:s.views,b=null===(d=null===(r=null==y?void 0:y.appRuntimeInfo)||void 0===r?void 0:r.sectionNavInfos)||void 0===d?void 0:d[e],I=(null==b?void 0:b.currentViewId)||w[0],T=(null==b?void 0:b.visibleViews)||w,C=null!==(u=null==b?void 0:b.progress)&&void 0!==u?u:0;let R=null;if((null===(p=null===(c=null===(v=y.appConfig)||void 0===v?void 0:v.sections)||void 0===c?void 0:c[e])||void 0===p?void 0:p.transition)&&"None"!==(null===(f=null===(m=null===(h=null===(g=y.appConfig)||void 0===g?void 0:g.sections)||void 0===h?void 0:h[e])||void 0===m?void 0:m.transition)||void 0===f?void 0:f.type)||(i=Math.ceil(i)),1===i)R=((e,o,n,i=(0,t.Immutable)([]))=>{let l=i.indexOf(o);l=-1===l?0:l;const a=i[e?Math.max(0,l-1):Math.min(i.length-1,l+1)];return(0,t.Immutable)({visibleViews:n}).set("previousViewId",o).set("currentViewId",a).set("useProgress",!1).set("progress",i.indexOf(a)/(i.length-1))})(n,I,w,T);else{const e=n?Math.max(x(C,-i/(w.length-1)),0):Math.min(x(C,i/(w.length-1)),1);R=S(e,w,T)}o(t.appActions.sectionNavInfoChanged(e,R)),t.jimuHistory.changeViewBySectionNavInfo(e,R)}),[o,e])})(Q),ce=(e=>{const o=m();return g((n=>{var i,l,a,s,r,d;const u=null===(i=(0,t.getAppStore)())||void 0===i?void 0:i.getState(),v=null===(a=null===(l=u.appConfig.sections)||void 0===l?void 0:l[e])||void 0===a?void 0:a.views,c=null===(d=null===(r=null===(s=u.appRuntimeInfo)||void 0===s?void 0:s.sectionNavInfos)||void 0===r?void 0:r[e])||void 0===d?void 0:d.visibleViews,p=S(n,v,c);o(t.appActions.sectionNavInfoChanged(e,p))}),[o,e])})(Q),pe=t.hooks.useEventCallback(((e,t)=>{"navButtonGroup"===e?ve(t,q):"slider"===e&&ce(t)}));N((()=>{J||K(!0)}),[]);const ge=null==R?void 0:R.widgetModules.NavQuickStyle,he=L((e=>null==e?void 0:e.browserSizeMode)),me=V((()=>he===t.BrowserSizeMode.Small),[he]),[fe,ye]=k(!1),we=L((e=>{var t,o,n;return null===(n=null===(o=null===(t=null==e?void 0:e.appConfig)||void 0===t?void 0:t.widgets)||void 0===o?void 0:o[I])||void 0===n?void 0:n.uri}));return N((()=>{window.jimuConfig.isInBuilder&&(me&&t.moduleLoader.getModuleSync("jimu-for-builder").appBuilderSync.publishSidePanelToApp({type:"navigatorQuickStyle",widgetId:I,uri:we,templates:W,display:null==C?void 0:C.display,onChange:re,active:$}),$?me||ye(!0):fe&&ye(!1))}),[$]),(0,t.jsx)("div",{className:"widget-view-navigation jimu-widget",css:ie,ref:E},(0,t.jsx)(l,{widgetId:I,show:!ee.length}),(0,t.jsx)(T,Object.assign({data:ee,activeView:ne,progress:te,onChange:pe},H,{standard:ae})),J&&ge&&(0,t.jsx)(ge,{templates:W,display:null==C?void 0:C.display,onChange:re,onClose:se,open:fe,reference:E.current,usePopper:!0,onInitDragHandler:P,onInitResizeHandler:A}))};U.versionManager=P;const E=U;function z(e){a.p=e}})(),s})())}}}));