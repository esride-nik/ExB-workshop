"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getStaticServeMiddleWares=void 0;var noCacheStaticServe=require("koa-static"),cacheStaticServe=require("koa-static-cache"),mount=require("koa-mount"),path=require("path"),exb_404_1=require("./common/exb-404");function getStaticServeMiddleWares(){var e=global.isDevEdition,t=global.mountPath,a=global.commanderOption,i=e?0:72e6,i=e?{maxage:i}:{maxage:i,buffer:!0,dynamic:!0,preload:!0},a=e||!a.enable_file_cache?noCacheStaticServe:cacheStaticServe,r=path.join(__dirname,"../../../client/dist/"),r=[(0,exb_404_1.handle404)({path:path.join(r,"experience/"),urlPath:t+"experience/",mountPath:t}),(0,exb_404_1.handle404)({path:path.join(r,"template/"),urlPath:t+"template/",mountPath:t}),(0,exb_404_1.handle404)({path:path.join(r,"builder/"),urlPath:t+"builder/",mountPath:t}),(0,exb_404_1.handle404)({path:path.join(r,"site/"),urlPath:t+"site/",mountPath:t})];return r.push(mount(t,a(path.join(__dirname,"../../../client/dist/"),i))),e&&r.push(mount("/apps/",a(path.join(__dirname,"../../../server/public/apps"),i))),r}exports.getStaticServeMiddleWares=getStaticServeMiddleWares;